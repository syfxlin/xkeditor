(function(t){function e(e){for(var a,r,c=e[0],l=e[1],s=e[2],d=0,m=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0072":function(t,e,n){},1551:function(t,e){t.exports=ace},"1d61":function(t,e){t.exports=marked},2217:function(t,e){t.exports=mermaid},3786:function(t,e){t.exports=Prism},"4b95":function(t,e){t.exports=EmojiConvertor},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("xk-editor",{attrs:{config:t.config,data:t.data},on:{"update:data":function(e){t.data=e}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)},i=[],r=(n("96cf"),n("1da1")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"xkeditor"},[n("toolbar",{directives:[{name:"show",rawName:"v-show",value:t.isAceMode&&"full"!==t.previewShow,expression:"isAceMode && previewShow !== 'full'"}]}),n("div",{staticClass:"editor-container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isAceMode&&"full"!==t.previewShow,expression:"isAceMode && previewShow !== 'full'"}],class:"xkeditor-left "+("show"===t.previewShow?"xk-col-12":"xk-col-24")},[n("ace",{ref:"ace"})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isAceMode&&"show"===t.previewShow,expression:"isAceMode && previewShow === 'show'"}],attrs:{id:"resizor",title:"拖动我"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isAceMode&&"hide"!==t.previewShow,expression:"isAceMode && previewShow !== 'hide'"}],class:"xkeditor-right "+("show"===t.previewShow?"xk-col-12":"xk-col-24")},[n("div",{ref:"htmlView",class:t.setting.xkSetting.previewClass,attrs:{id:"previewHtml"},domProps:{innerHTML:t._s(t.htmlViewContent)}})]),t.setting.xkSetting.enableTinyMCE?n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isAceMode,expression:"!isAceMode"}],staticClass:"xk-col-24"},[n("tinymce",{ref:"tinymce"})],1):t._e()]),n("tools")],1)},l=[],s=n("5530");n("99af"),n("caad"),n("ac1f"),n("2532"),n("5319");a["a"].directive("dialogDrag",{bind:function(t,e,n,a){var o=t.querySelector(".xk-modal-header"),i=t.querySelector(".xk-modal");o.style.cssText+=";cursor:move;",i.style.cssText+=";top:100px;";var r=function(){return window.document.currentStyle?function(t,e){return t.currentStyle[e]}:function(t,e){return getComputedStyle(t,!1)[e]}}();o.onmousedown=function(t){var e=t.clientX-o.offsetLeft,n=t.clientY-o.offsetTop,a=document.body.clientWidth,c=document.documentElement.clientHeight,l=i.offsetWidth,s=i.offsetHeight,u=i.offsetLeft,d=a-i.offsetLeft-l,m=i.offsetTop,p=c-i.offsetTop-s,f=r(i,"left"),h=r(i,"top");f.includes("%")?(f=+document.body.clientWidth*(+f.replace(/\%/g,"")/100),h=+document.body.clientHeight*(+h.replace(/\%/g,"")/100)):(f=+f.replace(/\px/g,""),h=+h.replace(/\px/g,"")),document.onmousemove=function(t){var a=t.clientX-e,o=t.clientY-n;-a>u?a=-u:a>d&&(a=d),-o>m?o=-m:o>p&&(o=p),i.style.cssText+=";left:".concat(a+f,"px;top:").concat(o+h,"px;")},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}});var u=n("ade3"),d=n("53ca");function m(t){return t&&"object"===Object(d["a"])(t)&&!Array.isArray(t)}function p(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];if(!n.length)return t;var o=n.shift();if(m(t)&&m(o))for(var i in o)m(o[i])?(t[i]||Object.assign(t,Object(u["a"])({},i,{})),p(t[i],o[i])):Object.assign(t,Object(u["a"])({},i,o[i]));return p.apply(void 0,[t].concat(n))}var f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ace-container"},[n("div",{ref:"ace",staticClass:"ace-editor"})])},h=[],v=a["a"].observable({showToc:!1,setting:{tinymceSetting:{language_url:"/static/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:"/static/tinymce/skins/ui/oxide",body_class:"markdown-body",content_css:"/static/github-markdown.css",plugins:"print preview fullpage searchreplace autolink directionality code visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern",toolbar:"formatselect | fontsizeselect | bold italic underline strikethrough blockquote forecolor backcolor prismjs | link image media pageembed | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent | tex-$ tex-math flow seq gantt mermaid | removeformat code toMarkdownEditor | undo redo",image_advtab:!0,importcss_append:!0,height:"100%",template_cdate_format:"[CDATE: %m/%d/%Y : %H:%M:%S]",template_mdate_format:"[MDATE: %m/%d/%Y : %H:%M:%S]",image_caption:!0,spellchecker_dialog:!0,spellchecker_whitelist:["Ephox","Moxiecode"]},aceSetting:{toolbar:"h1 h2 h3 h4 h5 h6 | bold italic underline strikethrough quote mark code | sup sub tex-$ tex-math | flow seq gantt mermaid | ul ol minus table time | link image video graff | toLine search toc typewriter switchPreview fullPreview fullScreen toHtmlEditor toTinyMCE format empty setting | undo redo | setLocalStorage getLocalStorage removeLocalStorage | help info | pasteFormat",minLines:10,theme:"ace/theme/solarized_light",mode:"ace/mode/markdown",tabSize:4,fontSize:"17px",wrap:!0,enableSnippets:!0,enableLiveAutocompletion:!0,enableBasicAutocompletion:!0},xkSetting:{apiBaseUrl:"",previewCss:"/static/github-markdown.css",previewClass:"markdown-body",delayToHtml:500,scrollBind:"both",imgUpload:!1,scrollMode:"anchor",pasteFormat:!0,pasteImageUpload:!0,enableTinyMCE:!0,judge0API:"https://run-code.lincdn.top",runCodeLangList:{c:1,cpp:2,bash:3,csharp:4,go:5,java:6,node:7,php:8,python:9,python2:10,ruby:11,rust:12,scala:13,typescript:14}}},aceEditor:null,toolbarShow:!0,toolbarHtmlShow:!0,previewShow:"show",typewriterMode:!1,isMarkdownMode:!0,editorMode:"ace",markdownContent:"",htmlContent:"",htmlViewContent:"",graffBoard:{content:{},hash:!1},toolbarModal:{show:!1,data:{},content:""},toast:{show:!1,message:"",status:"",loading:!1},resizor:{enable:!0,left:"",right:""}}),g=v,y=(n("7db0"),n("4160"),n("c975"),n("b0c0"),n("d3b7"),n("3ca3"),n("cc71"),n("9911"),n("159b"),n("ddb0"),n("2b3d"),n("1551")),b=n.n(y),x=n("d7d7"),w=n.n(x),_=(n("a4d3"),n("e01a"),n("d28b"),n("d81d"),n("38cf"),n("1276"),n("3835")),S=n("1d61"),C=n.n(S),k=n("7adc"),A=n.n(k),E=n("6708"),N=n.n(E),T=n("3786"),M=n.n(T),L=n("4b95"),j=n.n(L),O=new j.a;O.replace_mode="unified";var P=[];function B(){var t=q(0,"");return window.$toc=t,t}function q(t,e){if(t>=P.length)return e;if(0==t)e+="";else if(P[t].level>P[t-1].level)for(var n=P[t-1].level;n<P[t].level;n++)e+="<ul>";else if(P[t].level<P[t-1].level)for(var a=P[t].level;a<P[t-1].level;a++)e+="</ul></li>";else e+="</li>";var o=P[t].title.toLowerCase().replace(/ /g,"-").replace(/[^\u4e00-\u9fa5a-zA-Z0-9-]/g,"");return o="anchor"===Vt.state.setting.xkSetting.scrollMode?"#"+o:"javascript:sta('"+o+"');",e+='<li><i class="toc-icon"></i><a href="'.concat(o,'">').concat(P[t].title,"</a>"),q(t+1,e)}var F={html:"HTML",xml:"XML",svg:"SVG",mathml:"MathML",css:"CSS",clike:"C-like",js:"JavaScript",abap:"ABAP",abnf:"Augmented Backus–Naur form",apacheconf:"Apache Configuration",apl:"APL",arff:"ARFF",asciidoc:"AsciiDoc",adoc:"AsciiDoc",asm6502:"6502 Assembly",aspnet:"ASP.NET (C#)",autohotkey:"AutoHotkey",autoit:"AutoIt",bash:"Bash",shell:"Bash",basic:"BASIC",bnf:"Backus–Naur form",rbnf:"Routing Backus–Naur form",csharp:"C#",dotnet:"C#",cpp:"C++",cil:"CIL",coffee:"CoffeeScript",cmake:"CMake",csp:"Content-Security-Policy","css-extras":"CSS Extras",django:"Django/Jinja2",jinja2:"Django/Jinja2",dockerfile:"Docker",ebnf:"Extended Backus–Naur form",ejs:"EJS",erb:"ERB",fsharp:"F#",gcode:"G-code",gedcom:"GEDCOM",glsl:"GLSL",gml:"GameMaker Language",gamemakerlanguage:"GameMaker Language",graphql:"GraphQL",hs:"Haskell",hcl:"HCL",http:"HTTP",hpkp:"HTTP Public-Key-Pins",hsts:"HTTP Strict-Transport-Security",ichigojam:"IchigoJam",inform7:"Inform 7",javadoc:"JavaDoc",javadoclike:"JavaDoc-like",javastacktrace:"Java stack trace",jsdoc:"JSDoc","js-extras":"JS Extras",json:"JSON",jsonp:"JSONP",json5:"JSON5",latex:"LaTeX",emacs:"Lisp",elisp:"Lisp","emacs-lisp":"Lisp",lolcode:"LOLCODE",md:"Markdown","markup-templating":"Markup templating",matlab:"MATLAB",mel:"MEL",n1ql:"N1QL",n4js:"N4JS",n4jsd:"N4JS","nand2tetris-hdl":"Nand To Tetris HDL",nasm:"NASM",nginx:"nginx",nsis:"NSIS",objectivec:"Objective-C",ocaml:"OCaml",opencl:"OpenCL",parigp:"PARI/GP",objectpascal:"Object Pascal",php:"PHP",phpdoc:"PHPDoc","php-extras":"PHP Extras",plsql:"PL/SQL",powershell:"PowerShell",properties:".properties",protobuf:"Protocol Buffers",py:"Python",q:"Q (kdb+ database)",jsx:"React JSX",tsx:"React TSX",renpy:"Ren'py",rest:"reST (reStructuredText)",rb:"Ruby",sas:"SAS",sass:"Sass (Sass)",scss:"Sass (Scss)",sql:"SQL",soy:"Soy (Closure Template)",tap:"TAP",toml:"TOML",tt2:"Template Toolkit 2",ts:"TypeScript","t4-cs":"T4 Text Templates (C#)",t4:"T4 Text Templates (C#)","t4-vb":"T4 Text Templates (VB)","t4-templating":"T4 templating",vbnet:"VB.Net",vhdl:"VHDL",vim:"vim","visual-basic":"Visual Basic",vb:"Visual Basic",wasm:"WebAssembly",wiki:"Wiki markup",xeoracube:"XeoraCube",xojo:"Xojo (REALbasic)",xquery:"XQuery",yaml:"YAML",yml:"YAML"},H={gray:"rgba(206, 205, 202, 0.5)",brown:"rgba(155, 154, 151, 0.4)",orange:"rgba(245, 93, 0, 0.2)",yellow:"rgba(233, 168, 0, 0.2)",green:"rgba(0, 135, 107, 0.2)",blue:"rgba(0, 120, 223, 0.2)",purple:"rgba(103, 36, 222, 0.2)",pink:"rgba(221, 0, 129, 0.2)",red:"rgba(255, 0, 26, 0.2)"};function D(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e||(t=t.replace(/(:.*:)/g,(function(t,e){return O.replace_colons(e)}))),t=t.replace(/(\[([^\[\]]*)]{([^{}|]*)(\|span|\|p|\|font|\||)})/g,(function(t,e,n,a,o){if("graff"===n)return"[graff]{".concat(a,"}");if(o="|"==o||""==o||null==o?"span":o.substring(1),-1===a.indexOf(":")){var i=-1===a.indexOf(",")&&H[a]?["rgb(55, 53, 47)",H[a]]:a.split(",");a="color: ".concat(i[0],"; background-color: ").concat(i[1])}return"<".concat(o,' style="').concat(a,'">').concat(n,"</").concat(o,">")})),t}function I(t){return t.replace(/\[(|\/)(det|details)([^\]]*)\]/g,(function(t,e,n,a){return"/"!==e&&" :"===a.substring(0,2)&&(a="<summary>".concat(a.substring(2),"</summary>\n")),"<".concat(e,"details>").concat(a)}))}function $(t,e,n){var a="controls ";if(e&&":"===e.charAt(0)){var o="",i=e.substring(1).split("|"),r=Object(_["a"])(i,2);o=r[0],e=r[1];var c=!0,l=!1,s=void 0;try{for(var u,d=o.split(";")[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var m=u.value;-1===m.indexOf("=")?a+=m+" ":a+=m.replace("=",'="')+'"'}}catch(p){l=!0,s=p}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}}return/^(vid|video)/g.test(n)?(n=n.replace(/^(vid|video)(| )/g,""),'<video src="'.concat(t,'" ').concat(e?'title="'+e+'"':""," ").concat(a,">").concat(n,"</video>")):/^(aud|audio)/g.test(n)?(n=n.replace(/^(aud|audio)(| )/g,""),'<audio src="'.concat(t,'" ').concat(e?'title="'+e+'"':""," ").concat(a,">").concat(n,"</audio>")):'<img src="'.concat(t,'" ').concat(e?'title="'+e+'"':""," ").concat(a,' alt="').concat(n,'" />')}function R(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=n.replace(/^(inc|include)=/g,""),i="";if(e&&":"===e.charAt(0)){var r="",c=e.substring(1).split("|"),l=Object(_["a"])(c,2);r=l[0],e=l[1];var s=!0,u=!1,d=void 0;try{for(var m,p=r.split(";")[Symbol.iterator]();!(s=(m=p.next()).done);s=!0){var f=m.value;-1===f.indexOf("=")?i+=f+" ":i+=f.replace("=",'="')+'"'}}catch(h){u=!0,d=h}finally{try{s||null==p.return||p.return()}finally{if(u)throw d}}}return"iframe"===o?'<iframe src="'.concat(t,'" ').concat(e?'title="'+e+'"':""," ").concat(i,"></iframe>"):"md"===o||"markdown"===o?z("# this is embed",isFull):"code"===o&&null!==a?a.code('console.log("This is embed")',"javascript"):void 0}function U(t){return t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&#39;/g,"'").replace(/&quot;/g,'"').replace(/(<br \/>|<br>)/g,"\n")}function K(t){return t=D(t,!0),t=I(t),t=t.replace(/!\[([^\]]*)\]\(([^)"]*)[ ]*["]?([^)"]*)["]?\)/g,(function(t,e,n,a){return-1!==a.indexOf("|")||/(video|vid|audio|aud)/g.test(e)?$(n,a,e):"![".concat(a,"](").concat(n).concat(a?'"'+a+'"':"",")")})),t=t.replace(/[^!]\[([^\]]*)\]\(([^)"]*)[ ]*["]?([^)"]*)["]?\)/g,(function(t,e,n,a){return/^(inc|include)=/g.test(e)?R(n,a,e,new C.a.Renderer):"[".concat(a,"](").concat(n).concat(a?'"'+a+'"':"",")")})),t}function z(t,e){P=[];var n=new C.a.Renderer;return n.paragraph=function(t){var n=arguments;return t=D(t),t=t.replace(/\[graff]{(.*)}/g,(function(n,a){if(e){if(Vt.state.graffBoard.content[a]){var o=Vt.state.graffBoard.content[a].indexOf("|"),i=Vt.state.graffBoard.content[a].substring(0,o).split(" ").map((function(t){return parseFloat(t)}));return'<svg class="graffiti" viewBox="'.concat(i[0]," ").concat(i[1]," ").concat(i[2]," ").concat(i[3],'" data-hash="').concat(a,'">').concat(Vt.state.graffBoard.content[a].substring(o+1),"</svg>")}return'<svg class="graffiti" data-hash="'.concat(a,'"></svg>')}return t})),t=t.replace(/\[TOC([^\]]*)\]/g,(function(t,e){return'<div class="toc '.concat(" :fold"===e?"default-fold":"",'"></div>')})),t=I(t),n[0]=t,C.a.Renderer.prototype.paragraph.apply(this,n)},n.heading=function(t,e){var n=arguments;return P.push({title:t,level:e}),n[0]=D(t),C.a.Renderer.prototype.heading.apply(this,n)},n.blockquote=function(t){var e=arguments;return t=D(t),/^(|<p>):([^ ]*)/g.test(t)?t.replace(/^(|<p>):([^ ]*) (.*)/g,(function(t,e,n,a){var o=n.split(","),i=Object(_["a"])(o,2),r=i[0],c=i[1];return'<div class="notebox" style="color: '.concat(r,";background-color: ").concat(c,'">').concat(e+a,"</div>")})):(e[0]=t,C.a.Renderer.prototype.blockquote.apply(this,e))},n.image=function(t,e,n){return $(t,e,n)},n.link=function(t,e,a){var o=arguments;return/^(inc|include)=/g.test(a)?R(t,e,a,n):C.a.Renderer.prototype.link.apply(this,o)},n.codespan=function(t){var e=arguments;return/(.*) {([^}]*)}$/g.test(t)?t.replace(/(.*) {([^}]*)}$/g,(function(t,e,n){if(-1===n.indexOf(":")){var a=-1===n.indexOf(",")&&H[n]?["rgb(55, 53, 47)",H[n]]:n.split(",");n="color: ".concat(a[0],"; background-color: ").concat(a[1])}return'<code style="'.concat(n,'">').concat(e,"</code>")})):(e[0]=t,C.a.Renderer.prototype.codespan.apply(this,e))},n.code=function(t,n){if("math"===n||"tex"===n)return'<pre class="xkeditor-tex">```'.concat(n,"\n").concat(t,"\n```</pre>");if(/flow(TB|BT|RL|LR|TD)$/.test(n))return'<pre class="xkeditor-mermaid">graph '.concat(n.substring(n.length-2),"\n").concat(t,"</pre>");if("seq"===n)return'<pre class="xkeditor-mermaid">sequenceDiagram\n'.concat(t,"</pre>");if("gantt"===n)return'<pre class="xkeditor-mermaid">gantt\n'.concat(t,"</pre>");if("mermaid"===n)return'<pre class="xkeditor-mermaid">'.concat(t,"</pre>");var a="";if(0===n.indexOf("run-")&&(n=n.substring(4),a='\n        <button language="'.concat(n,'" class="run-code-btn">运行</button>        <button class="reset-code-btn">重置</button>\n        <button class="input-code-btn">输入</button>\n        <div class="run-code-input">\n          <textarea></textarea>\n        </div>\n        <div class="run-code-output">\n          <code></code>\n        </div>\n      '),"node"===n&&(n="javascript"),"python2"===n&&(n="python")),e){var o=F[n]||(n.substring(0,1).toUpperCase()+n.substring(1)).replace(/s(?=cript)/,"S"),i="<span></span>".repeat(t.split("\n").length);return null!=M.a.languages[n]&&void 0!=M.a.languages[n]?'<div class="code-toolbar"><pre class="line-numbers language-'+n+'"><code class="language-'+n+'">'+M.a.highlight(t,M.a.languages[n],M.a.languages[n])+'<span aria-hidden="true" class="line-numbers-rows">'+i+'</code></pre><div class="toolbar"><div class="toolbar-item"><span>'+o+"</span></div></div></div>"+a:'<pre class="line-numbers language- language-undefined"><code class="language- language-undefined">'+t+'<span aria-hidden="true" class="line-numbers-rows">'+i+"</code></pre>"}return C.a.Renderer.prototype.code.apply(this,arguments)},C.a.setOptions({langPrefix:"line-numbers language-",renderer:n}),C()(t)}function X(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new A.a({headingStyle:"atx",hr:"---",bulletListMarker:"-",codeBlockStyle:"fenced",emDelimiter:"*"});return n.keep(["iframe","style","script","title"]),n.use(N.a.gfm),n.addRule("mermaid",{filter:function(t){return"PRE"===t.nodeName&&t.classList.contains("xkeditor-mermaid")},replacement:function(t,e){return"\n\n```mermaid\n"+U(e.innerHTML)+"\n```\n"}}),n.addRule("math",{filter:function(t){return"PRE"===t.nodeName&&t.classList.contains("xkeditor-tex")},replacement:function(t,e){return U(e.innerHTML)}}),n.addRule("prismjs",{filter:function(t){return"PRE"===t.nodeName&&t.children.length>0&&"CODE"===t.children[0].nodeName&&t.children[0].classList.length>0},replacement:function(t,e){var n=e.children[0].classList[1].substring(9);return"\n```"+n+"\n"+U(t)+"\n```\n\n"}}),n.addRule("sup",{filter:function(t){return"SUP"===t.nodeName},replacement:function(t,e){return"<sup>"+t+"</sup>"}}),n.addRule("sub",{filter:function(t){return"SUB"===t.nodeName},replacement:function(t,e){return"<sub>"+t+"</sub>"}}),e&&n.addRule("haveStyle",{filter:function(t){return("FONT"===t.nodeName||"P"===t.nodeName||"SPAN"===t.nodeName)&&null!==t.getAttribute("style")},replacement:function(t,e){var n=["color","font-size","padding-left","background-color","text-align","font-family"],a=e.outerHTML;if("underline"===e.style.textDecoration)a="<u>"+t+"</u>";else if("line-through"===e.style.textDecoration)a="~"+t+"~";else{a="["+t+"]{";for(var o=0;o<n.length;o++)""!==e.style[n[o]]&&(a+=n[o]+":"+e.style[n[o]]+";");"span"===e.localName?a+="}":a+="|"+e.localName+"}"}return a}}),n.turndown(t)}var V=n("bc3a"),W=n.n(V),J=n("95aa");function G(t,e,n,a){a.innerHTML='<span class="process"># Processing...</span>',W.a.post(Vt.state.setting.xkSetting.judge0API+"/submissions?base64_encoded=false&wait=false",{source_code:t,language_id:e,stdin:n}).then((function(t){return t.data.token})).then((function(t){var e=null,n=0,o=function o(){W.a.get(Vt.state.setting.xkSetting.judge0API+"/submissions/"+t+"?base64_encoded=false").then((function(t){n++,3!=t.data.status.id?n<30&&1===t.data.status.id||2===t.data.status.id?setTimeout(o,500):a.innerHTML='<span class="error"># '+t.data.status.description+" Time: "+t.data.time+" Memory: "+t.data.memory+'KB</span>\n<span class="o1">compile_output: </span>'+t.data.compile_output+'\n<span class="o1">stderr: </span>'+t.data.stderr:a.innerHTML='<span class="success"># Accepted Time: '+t.data.time+" Memory: "+t.data.memory+"KB</span>\n> "+t.data.stdout.replace(/\n/g,"\n  ")})).catch((function(t){clearTimeout(e),a.innerHTML='<span class="error"># '+t+"</span>"}))};o()}))}function Q(t,e,n,a){"javascript"===e||"js"===e?Object(J["a"])(t,a):G(t,Vt.state.setting.xkSetting.runCodeLangList[e],n,a)}n("4de4"),n("07ac");for(var Y={},Z=function(t){Y["h".concat(t)]={title:"标题".concat(t),operate:"h".concat(t),icon:t,handler:function(){Vt.actions.insertTextToAce({replace:"".concat("#".repeat(t)," ")},!0)}}},tt=1;tt<=6;tt++)Z(tt);var et=Y,nt={title:"粗体",operate:"bold",icon:"bold",handler:function(){Vt.actions.insertTextToAce({left:"**",right:"**"},!1,2)}},at={title:"斜体",operate:"italic",icon:"italic",handler:function(){Vt.actions.insertTextToAce({left:"*",right:"*"},!1,1)}},ot={title:"下划线",operate:"underline",icon:"underline",handler:function(){Vt.actions.insertTextToAce({left:'<span style="text-decoration: underline">',right:"</span>"},!1,7)}},it={title:"删除线",operate:"strikethrough",icon:"strikethrough",handler:function(){Vt.actions.insertTextToAce({left:"~",right:"~"},!1,1)}},rt={title:"标记",operate:"mark",icon:"code",handler:function(){Vt.actions.insertTextToAce({left:"`",right:"`"},!1,1)}},ct={title:"引用",operate:"quote",icon:"quote-left",handler:function(){Vt.actions.insertTextToAce({replace:"> "},!0)}},lt={title:"代码块",operate:"code",icon:"terminal",handler:function(){Vt.actions.insertTextToAce({replace:"```\n```"},!0,4)}},st={title:"上标",operate:"sup",icon:"superscript",handler:function(){Vt.actions.insertTextToAce({left:"<sup>",right:"</sup>"},!1,6)}},ut={title:"下标",operate:"sub",icon:"subscript",handler:function(){Vt.actions.insertTextToAce({left:"<sub>",right:"</sub>"},!1,6)}},dt={"tex-$":{title:"添加行内公式",operate:"tex-$",icon:"dollar-sign",handler:function(){Vt.actions.insertTextToAce({left:"$$",right:"$$"},!1,2)}},"tex-math":{title:"添加块公式",operate:"tex-math",icon:"divide",handler:function(){Vt.actions.insertTextToAce({replace:"```math\n\n```"},!0,4)}}},mt={flow:{title:"添加流程图",operate:"flow",icon:"ellipsis-h",handler:function(){Vt.actions.insertTextToAce({replace:"```flow\n\n```"},!0,4)}},seq:{title:"添加时序图",operate:"seq",icon:"circle",handler:function(){Vt.actions.insertTextToAce({replace:"```seq\n\n```"},!0,4)}},gantt:{title:"添加甘特图",operate:"gantt",icon:"square",handler:function(){Vt.actions.insertTextToAce({replace:"```gantt\n\n```"},!0,4)}},mermaid:{title:"添加图",operate:"mermaid",icon:"cubes",handler:function(){Vt.actions.insertTextToAce({replace:"```mermaid\n\n```"},!0,4)}}},pt={ul:{title:"无序列表",operate:"ul",icon:"list-ul",handler:function(){Vt.actions.insertTextToAce({replace:"- "},!0)}},ol:{title:"有序列表",operate:"ol",icon:"list-ol",handler:function(){Vt.actions.insertTextToAce({replace:"1. "},!0)}}},ft={title:"分割线",operate:"minus",icon:"minus",handler:function(){Vt.actions.insertTextToAce({replace:"\n---\n\n"},!0)}},ht={title:"表格",operate:"table",icon:"table",data:{row:2,column:2,type:"normal"},handler:function(){Vt.state.toolbarModal=this},submit:function(){this.data.row=parseInt(this.data.row),this.data.column=parseInt(this.data.column);for(var t="",e=0;e<this.data.row+1;e++)t+=1==e?("|"+("left"===this.data.type||"center"===this.data.type?":":"-")+"--------"+("right"===this.data.type||"center"===this.data.type?":":"-")).repeat(this.data.column)+"|\n":"|  ".repeat(this.data.column)+"|\n";Vt.actions.insertTextToAce({replace:t},!0),Vt.state.toolbarModal={}},cancel:function(){Vt.state.toolbarModal={}}},vt={title:"时间",operate:"time",icon:"clock",handler:function(){Vt.actions.insertTextToAce({left:(new Date).toLocaleString(),right:""},!1)}},gt={title:"链接",operate:"link",icon:"link",data:{href:"",title:""},handler:function(){Vt.state.toolbarModal=this},submit:function(){Vt.actions.insertTextToAce({left:"[".concat(this.data.title,"](").concat(this.data.href,")"),right:""},!1),Vt.state.toolbarModal={}},cancel:function(){Vt.state.toolbarModal={}}},yt={title:"图片",operate:"image",icon:"image",data:{src:"",alt:""},handler:function(){Vt.state.toolbarModal=this},submit:function(){Vt.actions.insertTextToAce({left:"![".concat(this.data.alt,"](").concat(this.data.src,")"),right:""},!1),Vt.state.toolbarModal={}},cancel:function(){Vt.state.toolbarModal={}}},bt={title:"媒体",operate:"video",icon:"video",data:{src:"",alt:""},handler:function(){Vt.state.toolbarModal=this},submit:function(){Vt.actions.insertTextToAce({left:"![vid ".concat(this.data.alt,"](").concat(this.data.src,")"),right:""},!1),Vt.state.toolbarModal={}},cancel:function(){Vt.state.toolbarModal={}}},xt=(n("fb6a"),n("25f0"),{title:"涂鸦",operate:"graff",icon:"palette",handler:function(){Vt.actions.insertTextToAce({replace:"[graff]{".concat(Math.random().toString(36).slice(6),"}")},!0)}}),wt={title:"跳转到指定行",operate:"toLine",icon:"level-down-alt",data:{allLine:10,line:0},handler:function(){this.data.allLine=Vt.state.aceEditor.session.getLength(),this.data.line=Vt.state.aceEditor.getCursorPosition().row+1,Vt.state.toolbarModal=this},submit:function(){Vt.state.toolbarModal={},Vt.state.aceEditor.gotoLine(this.data.line),Vt.state.aceEditor.focus()},cancel:function(){Vt.state.toolbarModal={}}},_t={title:"搜索",operate:"search",icon:"search",handler:function(){Vt.state.aceEditor.commands.commands.find.exec(Vt.state.aceEditor)}},St={title:"开启/关闭打字机模式",operate:"typewriter",icon:"i-cursor",active:!1,handler:function(){Vt.actions.execCommand("typewriter"),Vt.state.aceEditor.focus()},watcher:{obj:"typewriterMode",handler:function(){this.active=Vt.state.typewriterMode},deep:!0}},Ct={title:"显示/隐藏目录",operate:"toc",icon:"bars",active:!1,handler:function(){Vt.actions.execCommand("toc")},watcher:{obj:"showToc",handler:function(){this.active=Vt.state.showToc},deep:!0}},kt={switchPreview:{title:"切换实时预览",operate:"switchPreview",icon:"eye",active:!1,handler:function(){Vt.actions.execCommand("switchPreview")},watcher:{obj:"previewShow",handler:function(){this.active="hide"===Vt.state.previewShow},deep:!0}},fullPreview:{title:"全窗口预览",operate:"fullPreview",icon:"tv",active:!1,handler:function(){Vt.actions.execCommand("fullPreview")},watcher:{obj:"previewShow",handler:function(){this.active="full"===Vt.state.previewShow},deep:!0}},fullScreen:{title:"全屏",operate:"fullScreen",icon:"arrows-alt",handler:function(){Vt.actions.execCommand("fullScreen")}}},At={toHtmlEditor:{title:"转换为HTML编辑",operate:"toHtmlEditor",icon:"file-code",handler:function(){Vt.actions.execCommand("toHtmlEditor")}},toTinyMCE:{title:"转换为TinyMCE编辑器",operate:"toTinyMCE",icon:"sync-alt",handler:function(){Vt.actions.execCommand("toTinyMCE")}}},Et={format:{title:"格式化(美化)",operate:"format",icon:"atom",handler:function(){Vt.actions.execCommand("format")}},pasteFormat:{title:"粘贴转化",operate:"pasteFormat",icon:"paste",active:!0,handler:function(){Vt.actions.execCommand("pasteFormat")},watcher:{obj:"setting.xkSetting.pasteFormat",handler:function(){this.active=Vt.state.setting.xkSetting.pasteFormat},deep:!0}},empty:{title:"清空",operate:"empty",icon:"eraser",handler:function(){Vt.actions.execCommand("empty")}},undo:{title:"撤销",operate:"undo",icon:"undo",handler:function(){Vt.actions.execCommand("undo")}},redo:{title:"重做",operate:"redo",icon:"redo",handler:function(){Vt.actions.execCommand("redo")}}},Nt={setLocalStorage:{title:"保存到本地",operate:"setLocalStorage",icon:"box",data:{locationStorage:""},handler:function(){Vt.state.toolbarModal=this},submit:function(){window.XKEditor.setLocalStorage(this.data.locationStorage),Vt.state.toolbarModal={}},cancel:function(){Vt.state.toolbarModal={}}},getLocalStorage:{title:"从本地读取",operate:"getLocalStorage",icon:"box-open",data:{locationStorage:""},handler:function(){Vt.state.toolbarModal=this},submit:function(){actions.setAceValue(window.XKEditor.getLocalStorage(this.data.locationStorage)),Vt.state.toolbarModal={}},cancel:function(){Vt.state.toolbarModal={}}},removeLocalStorage:{title:"删除本地存储",operate:"removeLocalStorage",icon:"trash-alt",data:{locationStorage:""},handler:function(){Vt.state.toolbarModal=this},submit:function(){window.XKEditor.removeLocalStorage(this.data.locationStorage),Vt.state.toolbarModal={}},cancel:function(){Vt.state.toolbarModal={}}}},Tt={help:{title:"帮助",operate:"help",icon:"question-circle",handler:function(){Vt.state.toolbarModal=this},submit:function(){Vt.state.toolbarModal=!1},cancel:function(){Vt.state.toolbarModal=!1}},info:{title:"关于",operate:"info",icon:"info-circle",handler:function(){Vt.state.toolbarModal=this},submit:function(){Vt.state.toolbarModal=!1},cancel:function(){Vt.state.toolbarModal=!1}}},Mt={title:"设置",operate:"setting",icon:"cog",handler:function(){Vt.actions.execCommand("setting")}},Lt=a["a"].observable(Object(s["a"])({"|":{icon:"|"}},et,{bold:nt,italic:at,underline:ot,strikethrough:it,mark:rt,quote:ct,code:lt,sup:st,sub:ut},dt,{},mt,{},pt,{minus:ft,table:ht,time:vt,link:gt,image:yt,video:bt,graff:xt,toLine:wt,search:_t,typewriter:St,toc:Ct},kt,{},At,{},Et,{},Nt,{},Tt,{setting:Mt})),jt=Object.values(Lt).filter((function(t){return t.watcher})),Ot=null,Pt=a["a"].observable({}),Bt=!0,qt=!1,Ft=void 0;try{for(var Ht,Dt=jt[Symbol.iterator]();!(Bt=(Ht=Dt.next()).done);Bt=!0){var It=Ht.value;Pt[It.watcher.obj]={handler:It.watcher.handler.bind(It),deep:It.watcher.deep}}}catch(Na){qt=!0,Ft=Na}finally{try{Bt||null==Dt.return||Dt.return()}finally{if(qt)throw Ft}}function $t(){Ot=a["a"].observable(g.setting.aceSetting.toolbar.split(" "))}$t();var Rt={setValue:function(t){"ace"===g.editorMode?Rt.setAceValue(t):Rt.setTinyValue(z(t),!1)},setAceValue:function(t){g.aceEditor.setValue(t,1)},setTinyValue:function(t){g.htmlContent=t,w.a.editors["tinymce-textarea"].setContent(g.htmlContent)},initAceEditor:function(t,e,n){e.value=t||"",b.a.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.4.4/src-noconflict/"),g.aceEditor=b.a.edit(n,e),window.isMobile&&Rt.execCommand("switchPreview"),Rt.initKey(),g.aceEditor.on("change",(function(){g.markdownContent=g.aceEditor.getValue()}))},initTinyMceEditor:function(){var t=g.setting.tinymceSetting;t.selector="#tinymce-textarea",g.setting.xkSetting.imgUpload&&(t.images_upload_handler=function(t,e,n){window.XKEditorAPI.imgUpload(t.blob(),(function(t){e(t.data.path)}),(function(t){n(t)}))}),t.setup=function(t){t.ui.registry.addButton("tex-$",{text:"行内公式",onAction:function(e){t.insertContent("<p>$$$$</p>")}}),t.ui.registry.addButton("tex-math",{text:"块公式",onAction:function(e){t.insertContent("<pre>&nbsp;```math&nbsp;```&nbsp;</pre>")}}),t.ui.registry.addButton("flow",{text:"流程图",onAction:function(e){t.insertContent('<pre class="xkeditor-mermaid">graph </pre>')}}),t.ui.registry.addButton("seq",{text:"时序图",onAction:function(e){t.insertContent('<pre class="xkeditor-mermaid">sequenceDiagram&nbsp;</pre>')}}),t.ui.registry.addButton("gantt",{text:"甘特图",onAction:function(e){t.insertContent('<pre class="xkeditor-mermaid">gantt&nbsp;</pre>')}}),t.ui.registry.addButton("mermaid",{text:"添加图",onAction:function(e){t.insertContent('<pre class="xkeditor-mermaid">&nbsp;</pre>')}}),t.ui.registry.addButton("prismjs",{text:"代码块",onAction:function(e){t.insertContent('<pre><code class="line-numbers language-javascript">&nbsp;</code></pre>')}}),t.ui.registry.addButton("toMarkdownEditor",{text:"切换编辑器",onAction:function(t){window.XKEditor.switchEditor()}}),t.on("init",(function(){t.setContent(g.htmlContent),t.on("KeyUp",(function(e){g.htmlContent=t.getContent()}))}))},w.a.init(t)},initGraff:function(){document.getElementById("previewHtml").addEventListener("click",(function(t){t.target.classList.contains("graffiti")&&(g.graffBoard.hash=t.target.getAttribute("data-hash"))}))},initKey:function(){var t=[{name:"toHtmlEditor",win:"F1",mac:"F1",exec:function(){Lt.toHtmlEditor.handler()}},{name:"toTinyMCE",win:"F2",mac:"F2",exec:function(){Lt.toTinyMCE.handler()}},{name:"toc",win:"F7",mac:"F7",exec:function(){Lt.toc.handler()}},{name:"typewriter",win:"F8",mac:"F8",exec:function(){Lt.typewriter.handler()}},{name:"switchPreview",win:"F9",mac:"F9",exec:function(){Lt.switchPreview.handler()}},{name:"fullPreview",win:"F10",mac:"F10",exec:function(){Lt.fullPreview.handler()}},{name:"fullScreen",win:"F11",mac:"F11",exec:function(){Lt.fullScreen.handler()}},{name:"H1",win:"Ctrl-1",mac:"Command-1",exec:function(){Lt.h1.handler()}},{name:"H2",win:"Ctrl-2",mac:"Command-2",exec:function(){Lt.h2.handler()}},{name:"H3",win:"Ctrl-3",mac:"Command-3",exec:function(){Lt.h3.handler()}},{name:"H4",win:"Ctrl-4",mac:"Command-4",exec:function(){Lt.h4.handler()}},{name:"H5",win:"Ctrl-5",mac:"Command-5",exec:function(){Lt.h5.handler()}},{name:"H6",win:"Ctrl-6",mac:"Command-6",exec:function(){Lt.h6.handler()}},{name:"bold",win:"Ctrl-B",mac:"Command-B",exec:function(){Lt.bold.handler()}},{name:"time",win:"Ctrl-D",mac:"Command-D",exec:function(){Lt.time.handler()}},{name:"minus",win:"Ctrl-H",mac:"Command-H",exec:function(){Lt.minus.handler()}},{name:"italic",win:"Ctrl-I",mac:"Command-I",exec:function(){Lt.italic.handler()}},{name:"mark",win:"Ctrl-K",mac:"Command-K",exec:function(){Lt.mark.handler()}},{name:"link",win:"Ctrl-L",mac:"Command-L",exec:function(){Lt.link.handler()}},{name:"ul",win:"Ctrl-U",mac:"Command-U",exec:function(){Lt.ul.handler()}},{name:"image",win:"Ctrl-Shift-I",mac:"Command-Shift-I",exec:function(){Lt.image.handler()}},{name:"tex-$",win:"Ctrl-Shift-K",mac:"Command-Shift-K",exec:function(){Lt["tex-$"].handler()}},{name:"ol",win:"Ctrl-Shift-O",mac:"Command-Shift-O",exec:function(){Lt.ol.handler()}},{name:"code",win:"Ctrl-Shift-P",mac:"Command-Shift-P",exec:function(){Lt.code.handler()}},{name:"quote",win:"Ctrl-Shift-Q",mac:"Command-Shift-Q",exec:function(){Lt.quote.handler()}},{name:"strikethrough",win:"Ctrl-Shift-S",mac:"Command-Shift-S",exec:function(){Lt.strikethrough.handler()}},{name:"table",win:"Ctrl-Shift-T",mac:"Command-Shift-T",exec:function(){Lt.table.handler()}},{name:"help",win:"Ctrl-Shift-H",mac:"Command-Shift-H",exec:function(){Lt.help.handler()}},{name:"toLine",win:"Ctrl-Shift-G",mac:"Command-Shift-G",exec:function(){Lt.toLine.handler()}},{name:"format",win:"Ctrl-Shift-F",mac:"Command-Shift-F",exec:function(){Rt.execCommand("format")}},{name:"switchPasteFormat",win:"Ctrl-Q",mac:"Command-Q",exec:function(){Rt.execCommand("pasteFormat")}}];Rt.execCommand("addKeys",t)},initScroll:function(){var t=1,e=1;Rt.scrollBind=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=document.querySelector(".ace-editor"),o=document.querySelector("#previewHtml"),i=window.XKEditor.ace.renderer.scrollBarV.scrollHeight-a.offsetHeight,r=o.scrollHeight-o.offsetHeight;if(e=r/i,"init"===n){a.addEventListener("mouseover",(function(){t="right"===g.setting.xkSetting.scrollBind?2:1})),o.addEventListener("mouseover",(function(){t="left"===g.setting.xkSetting.scrollBind?1:2})),a.addEventListener("touchstart",(function(){t="right"===g.setting.xkSetting.scrollBind?2:1})),o.addEventListener("touchstart",(function(){t="left"===g.setting.xkSetting.scrollBind?1:2})),window.XKEditor.ace.session.on("changeScrollTop",(function(n){1===t&&(o.scrollTop=n*e)})),o.addEventListener("scroll",(function(){2===t&&window.XKEditor.ace.session.setScrollTop(o.scrollTop/e)})),o.addEventListener("touchmove",(function(){2===t&&window.XKEditor.ace.session.setScrollTop(o.scrollTop/e)}));var c=null;a.addEventListener("touchstart",(function(t){clearTimeout(c);var e=t.changedTouches[0].pageY,n=0,o=Date.now(),i=0;a.addEventListener("touchend",(function(t){n=t.changedTouches[0].pageY,i=Date.now();var a=(n-e)/(i-o)*1.5;function r(t,e,n){var a=t>0?-1:1,o=.0018*a;function i(){var r=Date.now(),l=r-e,s=t+l*o;if(!(a*s>0)){var u=-(t+s)/2*l;window.XKEditor.ace.session.setScrollTop(n+u),c=setTimeout(i,10)}}i()}r(a,i,window.XKEditor.ace.session.getScrollTop())}))}))}},window.sta=function(t){if(t){var e=document.getElementById(t);e&&e.scrollIntoView(!0)}},a["a"].nextTick((function(){setTimeout((function(){Rt.scrollBind("init")}),1e3)}))},initPaste:function(){g.aceEditor.on("paste",(function(t){g.setting.xkSetting.pasteFormat&&t.event.clipboardData.getData("text/html")&&(t.text=X(t.event.clipboardData.getData("text/html"),!1))})),document.getElementsByClassName("ace-container")[0].addEventListener("paste",(function(t){if(g.setting.xkSetting.pasteImageUpload&&g.setting.xkSetting.imgUpload){if(!t.clipboardData||!t.clipboardData.items)return;for(var e=0,n=t.clipboardData.items.length;e<n;e++){var a=t.clipboardData.items[e];if("file"===a.kind){var o=a.getAsFile();window.XKEditorAPI.imgUpload(o,(function(t){g.aceEditor.insert("![]("+t.data.path+")")}),(function(t){console.log(t)}))}}}}))},initTocTree:function(){document.getElementById("toc-button").addEventListener("click",(function(){Rt.switchToc()})),Rt.updateTocTree()},initResizor:function(){var t=!1,e=document.getElementById("resizor"),n=document.querySelector(".xkeditor-left"),a=document.querySelector(".xkeditor-right"),o=document.querySelector(".xkeditor");e.addEventListener("mousedown",(function(e){t=!0,a.style.userSelect="none"})),o.addEventListener("mousemove",(function(i){if(!t)return!0;var r=i.clientX-o.clientLeft-o.offsetLeft;if(r<.2*o.clientWidth||r>=.8*o.clientWidth)return t=!1,!0;n.style.width=r+"px",e.style.left=r+"px",a.style.width=o.clientWidth-r+"px",g.resizor.left=r+"px",g.resizor.right=o.clientWidth-r+"px"})),o.addEventListener("mouseup",(function(e){t=!1,g.aceEditor.resize(),a.style.userSelect="unset"}))},showToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];g.toast.message=t,g.toast.status=e,g.toast.loading=n},hideToast:function(){g.toast.message=!1,g.toast.loading=!1},timeToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;Rt.showToast(t,e,n),setTimeout((function(){Rt.hideToast()}),a)},switchToc:function(){g.showToc=!g.showToc},switchResizor:function(t){var e=document.querySelector(".xkeditor-left"),n=document.querySelector(".xkeditor-right");t?(e.style.width=g.resizor.left,n.style.width=g.resizor.right):(e.style.width="",n.style.width="")},switchPreview:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=null!==t?t:"hide"===g.previewShow;g.previewShow=e?"show":"hide",Rt.switchResizor(e)},switchPreviewFull:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=null!==t?t:"full"===g.previewShow;e?(g.previewShow="show",document.getElementById("toc-button").style.display="block",g.showToc=!1):(g.previewShow="full",a["a"].nextTick((function(){var t=document.getElementById("previewHtml");Math.round(t.offsetWidth/t.parentElement.offsetWidth*100)<=80&&(document.getElementById("toc-button").style.display="none",g.showToc=!0)}))),Rt.switchResizor(e)},switchFullScreen:function(){if(document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement){if(document.exitFullscreen)return document.exitFullscreen();if(document.webkitExitFullscreen)return document.webkitExitFullscreen();if(document.mozCancelFullScreen)return document.mozCancelFullScreen();if(document.msExitFullscreen)return document.msExitFullscreen()}else{var t=document.documentElement;if(t.requestFullscreen)return t.requestFullscreen();if(t.webkitRequestFullscreen)return t.webkitRequestFullscreen();if(t.mozRequestFullScreen)return t.mozRequestFullScreen();if(t.msRequestFullscreen)return t.msRequestFullscreen()}},switchAceMode:function(){g.isMarkdownMode?(g.aceEditor.session.setMode("ace/mode/html"),Rt.setAceValue(z(g.aceEditor.getValue(),!1)),g.isMarkdownMode=!1):(g.aceEditor.session.setMode("ace/mode/markdown"),Rt.setAceValue(X(g.aceEditor.getValue(),!0)),g.isMarkdownMode=!0)},switchEditor:function(){if(!g.setting.xkSetting.enableTinyMCE)return!1;"ace"!==g.editorMode?(g.markdownContent=X(g.htmlContent,!0),Rt.setAceValue(g.markdownContent),g.editorMode="ace"):"tinymce"!==g.editorMode&&(g.htmlContent=z(g.markdownContent,!1),Rt.setTinyValue(g.htmlContent),g.editorMode="tinymce")},imgUpload:function(){if(document.getElementById("img-upload").files.length>0){var t=document.getElementById("img-upload").files[0];window.XKEditorAPI.imgUpload(t,(function(t){a["a"].set(g.toolbarModal.data,"src",t.data.path)}),(function(t){console.log(t)}))}else Rt.timeToast("当前未选择文件！","error")},execCommand:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("toLine"===t)return g.toolbarModal.data.allLine=g.aceEditor.session.getLength(),void Rt.showtoolbarModal(t,"跳转到指定行");if("search"!==t)if("toc"!==t){if("switchPreview"===t)return Rt.switchPreview(),void a["a"].nextTick((function(){g.aceEditor.resize(g.aceEditor)}));if("fullPreview"===t)return Rt.switchPreviewFull(),void a["a"].nextTick((function(){g.aceEditor.resize(g.aceEditor)}));if("fullScreen"!==t){if("toHtmlEditor"===t)return Rt.switchAceMode(),void(g.toolbarShow=!g.toolbarShow);if("toTinyMCE"!==t)if("empty"!==t)if("setting"!==t)if("undo"!==t)if("redo"!==t){if("toolbar"===t)return g.toolbarShow=!g.toolbarShow,void(g.toolbarHtmlShow=!g.toolbarHtmlShow);if("resize"!==t)if("addKeys"===t)for(var n=0;n<e.length;n++)g.aceEditor.commands.addCommand({name:e[n].name,bindKey:{win:e[n].win,mac:e[n].mac},exec:e[n].exec,readOnly:!0});else if("removeKeys"===t)for(var o=0;o<e.length;o++)g.aceEditor.commands.removeCommand(e[o]);else{if("typewriter"===t){var i=!0,r=g.aceEditor.selection.getCursor().row;return window.$typewriter||(window.$typewriter=function(t){if(t&&t.type&&!/(mousedown|mouseup|touchstart|touchend|touchmove)/g.test(t.type)){var e=g.aceEditor.selection.getCursor().row,n=0;if(i)n=g.aceEditor.session.getScrollTop()+(parseFloat(document.getElementsByClassName("ace_cursor")[0].style.top.replace("px",""))-document.getElementsByClassName("ace-editor")[0].offsetHeight/3),i=!1;else{var a=e-r;0===a&&("ArrowDown"===t.key?a=1:"ArrowUp"===t.key&&(a=-1)),n=g.aceEditor.session.getScrollTop()+a*g.aceEditor.renderer.lineHeight}0!=n&&g.aceEditor.session.setScrollTop(n),r=e}}),g.typewriterMode=!g.typewriterMode,void(g.typewriterMode?g.aceEditor.selection.on("changeCursor",window.$typewriter):g.aceEditor.selection.off("changeCursor",window.$typewriter))}if("format"===t){if(!window.prettier)return;var c=window.prettier.format(g.markdownContent,{parser:"markdown",plugins:window.prettierPlugins});Rt.setAceValue(c)}else"pasteFormat"===t&&(g.setting.xkSetting.pasteFormat=!g.setting.xkSetting.pasteFormat)}else a["a"].nextTick((function(){g.aceEditor.resize(g.aceEditor)}))}else g.aceEditor.redo();else g.aceEditor.undo();else g.aceEditor.commands.commands.showSettingsMenu.exec(g.aceEditor);else g.aceEditor.setValue("");else Rt.switchEditor()}else Rt.switchFullScreen()}else Rt.switchToc();else g.aceEditor.commands.commands.find.exec(g.aceEditor)},setInterface:function(){var t=function(t,e,n){var a=document.createElement("a"),o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.download=t+"."+n,a.href=URL.createObjectURL(new Blob([e],{type:"text/"+n})),a.dispatchEvent(o)};window.XKEditorAPI={imgUpload:function(t,e,n){if(g.setting.xkSetting.imgUpload){var a=new FormData;a.append("file",t);var o={headers:{"Content-Type":"multipart/form-data"}};Rt.showToast("上传中...","",!0),W.a.post(g.setting.xkSetting.imgUpload,a,o).then((function(t){Rt.timeToast("上传成功！","success"),e(t)})).catch((function(t){Rt.timeToast("上传失败！","error"),n(t)}))}}},window.XKEditor={ace:g.aceEditor,tinymce:window.tinymce,setting:g.setting,toMarkdown:X,toHtml:z,execCommand:function(t,e){return Rt.execCommand(t,e)},setSetting:function(t){a["a"].set(g,"setting",t),window.XKEditor&&(window.XKEditor.tinymce.remove(),window.XKEditor.tinymce.init(t.tinymceSetting),window.XKEditor.ace.setOptions(t.aceSetting))},getExportMarkdown:function(){return K(g.markdownContent)},getMarkdown:function(){return g.markdownContent},getHTML:function(){return g.htmlViewContent},setMarkdown:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"markdown";"ace"===g.editorMode?("markdown"!==e&&(t=X(t,!0)),g.markdownContent=t,Rt.setAceValue(t)):Rt.timeToast("当前不在Markdown编辑器！","error")},setHTML:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html";"tinymce"===g.editorMode?("html"!==e&&(t=z(t,!1)),g.htmlContent=t,Rt.setTinyValue(t)):Rt.timeToast("当前不在富文本编辑器！","error")},switchEditor:function(){Rt.switchEditor()},switchPreview:function(){Rt.execCommand("switchPreview")},switchFullPreview:function(){Rt.execCommand("fullPreview")},switchFullScreen:function(){Rt.execCommand("fullScreen")},toLine:function(){Rt.execCommand("toLine")},toc:function(){Rt.execCommand("toc")},toolbar:function(){Rt.execCommand("toolbar")},resize:function(){Rt.execCommand("resize")},addKeys:function(t){Rt.execCommand("addKeys",t)},removeKeys:function(t){Rt.execCommand("removeKeys",t)},getEditor:function(t){return"ace"===t?Rt.aceEditor:"tinymce"===t?window.tinymce:void 0},switchTypewriter:function(){Rt.execCommand("typewriter")},formatContent:function(){Rt.execCommand("format")},setLocalStorage:function(t){window.localStorage.setItem("xkeditor_"+t,window.XKEditor.getMarkdown())},getLocalStorage:function(t){return window.localStorage.getItem("xkeditor_"+t)},listLocalStorage:function(){var t={};for(var e in window.localStorage)-1!=e.indexOf("xkeditor_")&&(t[e.substring(9)]=window.localStorage.getItem(e));return t},removeLocalStorage:function(t){window.localStorage.removeItem("xkeditor_"+t)},download:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){var a,o,i,r,c,l,s,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=u.length>1&&void 0!==u[1]?u[1]:"markdown",o="","markdown"!==a){e.next=7;break}o=g.markdownContent,a="md",e.next=35;break;case 7:if("html"!==a){e.next=11;break}o=g.htmlViewContent,e.next=35;break;case 11:if("fullhtml"!==a){e.next=35;break}return i='<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>',r="</title>",c="</head><body>",l="</body></html>",e.next=18,W.a.get(g.setting.xkSetting.previewCss);case 18:return s=e.sent,e.t0=s,e.next=22,W.a.get("/static/prism-okaidia.css");case 22:return s=e.t0+=e.sent,e.t1=s,e.next=26,W.a.get("/static/prism-line-numbers.css");case 26:return s=e.t1+=e.sent,e.t2=s,e.next=30,W.a.get("/static/prism-toolbar.css");case 30:return s=e.t2+=e.sent,o=i+n+r+"<style>"+s+"</style>"+c+'<div class="markdown-body editormd-html-preview">'+g.htmlViewContent+"</div>"+l,a="html",t(n,o,a),e.abrupt("return");case 35:t(n,o,a);case 36:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}()}},updateTocTree:function(){for(var t=document.querySelectorAll("#toc .toc-icon ~ ul,.toc .toc-icon ~ ul"),e=0;e<t.length;e++)t[e].parentElement.children[0].classList.add("can-active"),t[e].parentElement.children[0].setAttribute("onclick","toggleToc(this)")},updateRunCode:function(){document.querySelectorAll(".run-code-btn").forEach((function(t){t.addEventListener("click",(function(){Q(t.previousElementSibling.children[0].textContent,t.getAttribute("language"),t.nextElementSibling.nextElementSibling.nextElementSibling.children[0].value,t.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling.children[0])}))})),document.querySelectorAll(".reset-code-btn").forEach((function(t){t.addEventListener("click",(function(){t.nextElementSibling.nextElementSibling.nextElementSibling.children[0].textContent=""}))})),document.querySelectorAll(".input-code-btn").forEach((function(t){t.addEventListener("click",(function(){var e=t.nextElementSibling.children[0];e.style.display="block"===e.style.display?"none":"block"}))}))},insertTextToAce:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=g.aceEditor.getSelectedText(),o=t.replace?t.replace:t.left+a+t.right,i=g.aceEditor.getSelectionRange();if(e)for(var r=i.start.row;r<=i.end.row;r++)g.aceEditor.session.replace(new b.a.Range(r,0,r,0),o);else g.aceEditor.session.replace(i,o);n&&g.aceEditor.navigateLeft(n),g.aceEditor.focus()}},Ut=Rt;window.isMobile=/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i.test(navigator.userAgent),window.toggleToc=function(t){t.classList.toggle("active"),t.nextElementSibling.nextElementSibling.classList.toggle("active")};var Kt={state:g,actions:Ut},zt=function(t){var e={};if(t instanceof Array)for(var n=function(n){e[t[n]]={get:function(){return Kt.state[t[n]]},set:function(e){Kt.state[t[n]]=e}}},a=0;a<t.length;a++)n(a);else{var o=function(n){t[n]instanceof Function?e[n]={get:function(){return t[n](Kt.state)}}:e[n]={get:function(){return Kt.state[t[n]]},set:function(e){Kt.state[t[n]]=e}}};for(var i in t)o(i)}return e},Xt=function(t){var e={};if(t instanceof Array)for(var n=0;n<t.length;n++)e[t[n]]=Kt.actions[t[n]];else for(var a in t)t[a]instanceof Function?e[a]=t[a](Kt.actions):e[a]=Kt.actions[t[a]];return e},Vt=Kt,Wt={computed:Object(s["a"])({},zt(["aceEditor","markdownContent","setting"])),mounted:function(){this.initAceEditor(this.markdownContent,this.setting.aceSetting,this.$refs.ace)},methods:Object(s["a"])({},Xt(["initAceEditor"]))},Jt=Wt,Gt=n("2877"),Qt=Object(Gt["a"])(Jt,f,h,!1,null,null,null),Yt=Qt.exports,Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tinymce"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.htmlContent,expression:"htmlContent"}],attrs:{id:"tinymce-textarea"},domProps:{value:t.htmlContent},on:{input:function(e){e.target.composing||(t.htmlContent=e.target.value)}}})])},te=[],ee={computed:Object(s["a"])({},zt(["htmlContent"])),methods:Object(s["a"])({},Xt(["initTinyMceEditor"])),mounted:function(){this.initTinyMceEditor()}},ne=ee,ae=Object(Gt["a"])(ne,Zt,te,!1,null,null,null),oe=ae.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toolbar-container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.toolbarShow,expression:"toolbarShow"}],staticClass:"xk-toolbar"},[t._l(t.toolbar,(function(e){return["|"===e.icon?n("span",{key:e.id},[t._v("|")]):[n("button",{key:e.id,class:"xk-button "+(e.active?"active":""),attrs:{type:"text",title:e.title,id:"toolbar-"+e.operate},on:{click:function(t){return e.handler()}}},["number"===typeof e.icon?n("b",[t._v("H"+t._s(e.icon))]):n("fa-icon",{attrs:{icon:e.icon}})],1)]]}))],2),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.toolbarShow&&t.toolbarHtmlShow,expression:"!toolbarShow && toolbarHtmlShow"}],staticClass:"toolbar-html xk-toolbar"},[n("button",{staticClass:"xk-button",attrs:{type:"text",title:"转换为Markdown模式"},on:{click:function(e){return t.switchToHtml()}}},[n("fa-icon",{attrs:{icon:"file-code"}}),t._v("转换为Markdown模式 ")],1)])])},re=[],ce=n("ecee"),le=n("c074"),se=n("ad3d");ce["c"].add(le["a"]);var ue={components:{"fa-icon":se["a"]},data:function(){return{toolbar:Ot.map((function(t){return Lt[t]}))}},computed:Object(s["a"])({},zt(["toolbarShow","toolbarHtmlShow","setting","previewShow","showToc","typewriterMode"])),methods:Object(s["a"])({},Xt(["switchAceMode"]),{switchToHtml:function(){this.toolbarShow=!0,this.switchAceMode()}}),watch:Object(s["a"])({"setting.aceSetting.toolbar":{handler:function(){$t(),this.toolbar=Ot.map((function(t){return Lt[t]}))},deep:!0}},Pt)},de=ue,me=Object(Gt["a"])(de,ie,re,!1,null,null,null),pe=me.exports,fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tools-container"},[n("button",{directives:[{name:"show",rawName:"v-show",value:"ace"===t.editorMode&&"full"===t.previewShow,expression:"editorMode === 'ace' && previewShow === 'full'"}],staticClass:"xk-button close-preview-full",on:{click:function(e){return t.switchPreviewFull()}}},[t._v(" 关闭 ")]),n("transition",{attrs:{name:"slide-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showToc,expression:"showToc"}],attrs:{id:"toc"}})]),n("div",{staticClass:"xk-button",attrs:{id:"toc-button"}},[n("fa-icon",{attrs:{icon:"bars"}})],1),n("toolbar-modal"),t.graffBoard.hash?n("graff-board"):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.toast.message,expression:"toast.message"}],class:"xkeditor-toast "+(""!==t.toast.status?t.toast.status:"")},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.toast.loading,expression:"toast.loading"}]}),n("p",[t._v(t._s(t.toast.message))])])],1)},he=[],ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"graff-main"},[n("div",{staticClass:"graff-container"},[n("div",{staticClass:"svg-container"},[n("svg",{attrs:{id:"graff-svg"},domProps:{innerHTML:t._s(t.graffEditContent)}})]),n("div",{staticClass:"svg-button"},[n("h3",[t._v("画笔")]),n("div",{staticClass:"svg-pen"},[n("div",{staticClass:"svg-btn",attrs:{"data-type":"pen"}},[n("fa-icon",{attrs:{icon:"pencil-alt"}}),n("span",[t._v("画笔")])],1),n("div",{staticClass:"svg-btn",attrs:{"data-type":"eraser"}},[n("fa-icon",{attrs:{icon:"eraser"}}),n("span",[t._v("橡皮擦")])],1),n("div",{staticClass:"svg-btn",attrs:{"data-type":"text"}},[n("fa-icon",{attrs:{icon:"font"}}),n("span",[t._v("文本")])],1),n("div",{staticClass:"svg-btn",attrs:{"data-type":"select"}},[n("fa-icon",{attrs:{icon:"pencil-alt"}}),n("span",[t._v("选择")])],1)]),n("h3",[t._v("画笔颜色")]),t._m(0),n("h3",[t._v("画笔大小")]),t._m(1),n("h3",[t._v("填充颜色")]),t._m(2),n("h3",[t._v("文字大小")]),t._m(3),n("h3",[t._v("形状")]),n("div",{staticClass:"svg-shape"},[n("div",{staticClass:"svg-btn",attrs:{"data-type":"line"}},[n("fa-icon",{attrs:{icon:"slash"}}),n("span",[t._v("直线")])],1),n("div",{staticClass:"svg-btn",attrs:{"data-type":"polygon"}},[n("fa-icon",{attrs:{icon:"draw-polygon"}}),n("span",[t._v("多边形")])],1),n("div",{staticClass:"svg-btn",attrs:{"data-type":"rect"}},[n("fa-icon",{attrs:{icon:"square-full"}}),n("span",[t._v("矩形")])],1),n("div",{staticClass:"svg-btn",attrs:{"data-type":"round-rect"}},[n("fa-icon",{attrs:{icon:"square"}}),n("span",[t._v("圆角矩形")])],1),n("div",{staticClass:"svg-btn",attrs:{"data-type":"circle"}},[n("fa-icon",{attrs:{icon:"circle"}}),n("span",[t._v("圆形")])],1),n("div",{staticClass:"svg-btn",attrs:{"data-type":"ellipse"}},[n("fa-icon",{attrs:{icon:"circle"}}),n("span",[t._v("椭圆")])],1),n("div",{staticClass:"svg-btn",attrs:{"data-type":"diamond"}},[n("fa-icon",{attrs:{icon:"layer-group"}}),n("span",[t._v("菱形")])],1)]),n("h3",[t._v("操作")]),n("div",{staticClass:"svg-operate"},[n("div",{staticClass:"svg-btn",attrs:{id:"svg-undo"}},[n("fa-icon",{attrs:{icon:"reply"}}),n("span",[t._v("撤销")])],1),n("div",{staticClass:"svg-btn",attrs:{id:"svg-redo"}},[n("fa-icon",{attrs:{icon:"share"}}),n("span",[t._v("重做")])],1),n("div",{staticClass:"svg-btn",attrs:{id:"svg-clean"}},[n("fa-icon",{attrs:{icon:"trash"}}),n("span",[t._v("清空画板")])],1)]),n("h3",[t._v("生成图像")]),n("div",{staticClass:"svg-output"},[n("div",{staticClass:"svg-btn",on:{click:function(e){return t.save()}}},[t._v("保存")]),n("div",{staticClass:"svg-btn",on:{click:function(e){return t.cancel()}}},[t._v("关闭")])])])])])},ge=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"svg-color"},[n("select",{attrs:{id:"select-color"}},[n("option",{attrs:{value:"black"}},[t._v("黑色")]),n("option",{attrs:{value:"lightcoral"}},[t._v("红色")]),n("option",{attrs:{value:"lightblue",selected:""}},[t._v("蓝色")]),n("option",{attrs:{value:"lightgreen"}},[t._v("绿色")]),n("option",{attrs:{value:"lightyellow"}},[t._v("黄色")]),n("option",{attrs:{value:"lightsalmon"}},[t._v("橙色")]),n("option",{attrs:{value:"lightgray"}},[t._v("灰色")]),n("option",{attrs:{value:"lightpink"}},[t._v("粉色")]),n("option",{attrs:{value:"plum"}},[t._v("紫色")]),n("option",{attrs:{value:"custom"}},[t._v("自定义")])]),n("input",{attrs:{type:"color",id:"custom-color"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"svg-size"},[n("select",{attrs:{id:"select-size"}},[n("option",{attrs:{value:"small"}},[t._v("小")]),n("option",{attrs:{value:"middle"}},[t._v("中")]),n("option",{attrs:{value:"big"}},[t._v("大")]),n("option",{attrs:{value:"custom"}},[t._v("自定义")])]),n("input",{attrs:{type:"number",id:"custom-size",value:"2"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"svg-fill-color"},[n("select",{attrs:{id:"select-fill-color"}},[n("option",{attrs:{value:"none"}},[t._v("不填充")]),n("option",{attrs:{value:"black"}},[t._v("黑色")]),n("option",{attrs:{value:"lightcoral"}},[t._v("红色")]),n("option",{attrs:{value:"lightblue"}},[t._v("蓝色")]),n("option",{attrs:{value:"lightgreen"}},[t._v("绿色")]),n("option",{attrs:{value:"lightyellow"}},[t._v("黄色")]),n("option",{attrs:{value:"lightsalmon"}},[t._v("橙色")]),n("option",{attrs:{value:"lightgray"}},[t._v("灰色")]),n("option",{attrs:{value:"lightpink"}},[t._v("粉色")]),n("option",{attrs:{value:"plum"}},[t._v("紫色")]),n("option",{attrs:{value:"custom"}},[t._v("自定义")])]),n("input",{attrs:{type:"color",id:"custom-fill-color"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"svg-text-size"},[n("input",{attrs:{type:"number",id:"text-size",value:"14"}})])}],ye=(n("6a7c"),n("c740"),n("a15b"),n("a434"),n("b680"),/,?([a-z]),?/gi),be=parseFloat,xe=Math,we=xe.PI,_e=xe.min,Se=xe.max,Ce=xe.pow,ke=xe.abs,Ae=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,Ee=/(-?\d*\.?\d*(?:e[-+]?\\d+)?)[\s]*,?[\s]*/gi,Ne=Array.isArray||function(t){return t instanceof Array};function Te(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Me(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)Te(t,n)&&(e[n]=Me(t[n]));return e}function Le(t,e){for(var n=0,a=t.length;n<a;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function je(t){function e(){var n=Array.prototype.slice.call(arguments,0),a=n.join("␀"),o=e.cache=e.cache||{},i=e.count=e.count||[];return Te(o,a)?(Le(i,a),o[a]):(i.length>=1e3&&delete o[i.shift()],i.push(a),o[a]=t.apply(0,n),o[a])}return e}function Oe(t){if(!t)return null;var e=Pe(t);if(e.arr)return Me(e.arr);var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=[];return Ne(t)&&Ne(t[0])&&(a=Me(t)),a.length||String(t).replace(Ae,(function(t,e,o){var i=[],r=e.toLowerCase();o.replace(Ee,(function(t,e){e&&i.push(+e)})),"m"==r&&i.length>2&&(a.push([e].concat(i.splice(0,2))),r="l",e="m"==e?"l":"L");while(i.length>=n[r])if(a.push([e].concat(i.splice(0,n[r]))),!n[r])break})),a.toString=Pe.toString,e.arr=Me(a),a}function Pe(t){var e=Pe.ps=Pe.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout((function(){for(var n in e)Te(e,n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])})),e[t]}function Be(t,e,n,a){return 1===arguments.length&&(e=t.y,n=t.width,a=t.height,t=t.x),{x:t,y:e,width:n,height:a,x2:t+n,y2:e+a}}function qe(){return this.join(",").replace(ye,"$1")}function Fe(t){var e=Me(t);return e.toString=qe,e}function He(t,e,n,a,o,i,r,c,l){var s=1-l,u=Ce(s,3),d=Ce(s,2),m=l*l,p=m*l,f=u*t+3*d*l*n+3*s*l*l*o+p*r,h=u*e+3*d*l*a+3*s*l*l*i+p*c;return{x:ze(f),y:ze(h)}}function De(t){var e=Ze.apply(null,t);return Be(e.x0,e.y0,e.x1-e.x0,e.y1-e.y0)}function Ie(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function $e(t,e){return t=Be(t),e=Be(e),Ie(e,t.x,t.y)||Ie(e,t.x2,t.y)||Ie(e,t.x,t.y2)||Ie(e,t.x2,t.y2)||Ie(t,e.x,e.y)||Ie(t,e.x2,e.y)||Ie(t,e.x,e.y2)||Ie(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function Re(t,e,n,a,o){var i=-3*e+9*n-9*a+3*o,r=t*i+6*e-12*n+6*a;return t*r-3*e+3*n}function Ue(t,e,n,a,o,i,r,c,l){null==l&&(l=1),l=l>1?1:l<0?0:l;for(var s=l/2,u=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],m=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;f<u;f++){var h=s*d[f]+s,v=Re(h,t,n,o,r),g=Re(h,e,a,i,c),y=v*v+g*g;p+=m[f]*xe.sqrt(y)}return s*p}function Ke(t,e,n,a,o,i,r,c){if(!(Se(t,n)<_e(o,r)||_e(t,n)>Se(o,r)||Se(e,a)<_e(i,c)||_e(e,a)>Se(i,c))){var l=(t*a-e*n)*(o-r)-(t-n)*(o*c-i*r),s=(t*a-e*n)*(i-c)-(e-a)*(o*c-i*r),u=(t-n)*(i-c)-(e-a)*(o-r);if(u){var d=ze(l/u),m=ze(s/u),p=+d.toFixed(2),f=+m.toFixed(2);if(!(p<+_e(t,n).toFixed(2)||p>+Se(t,n).toFixed(2)||p<+_e(o,r).toFixed(2)||p>+Se(o,r).toFixed(2)||f<+_e(e,a).toFixed(2)||f>+Se(e,a).toFixed(2)||f<+_e(i,c).toFixed(2)||f>+Se(i,c).toFixed(2)))return{x:d,y:m}}}}function ze(t){return Math.round(1e11*t)/1e11}function Xe(t,e,n){var a=De(t),o=De(e);if(!$e(a,o))return n?0:[];for(var i=Ue.apply(0,t),r=Ue.apply(0,e),c=Je(t)?1:~~(i/5)||1,l=Je(e)?1:~~(r/5)||1,s=[],u=[],d={},m=n?0:[],p=0;p<c+1;p++){var f=He.apply(0,t.concat(p/c));s.push({x:f.x,y:f.y,t:p/c})}for(p=0;p<l+1;p++)f=He.apply(0,e.concat(p/l)),u.push({x:f.x,y:f.y,t:p/l});for(p=0;p<c;p++)for(var h=0;h<l;h++){var v,g=s[p],y=s[p+1],b=u[h],x=u[h+1],w=ke(y.x-g.x)<.01?"y":"x",_=ke(x.x-b.x)<.01?"y":"x",S=Ke(g.x,g.y,y.x,y.y,b.x,b.y,x.x,x.y);if(S){if(v=S.x.toFixed(9)+"#"+S.y.toFixed(9),d[v])continue;d[v]=!0;var C=g.t+ke((S[w]-g[w])/(y[w]-g[w]))*(y.t-g.t),k=b.t+ke((S[_]-b[_])/(x[_]-b[_]))*(x.t-b.t);C>=0&&C<=1&&k>=0&&k<=1&&(n?m++:m.push({x:S.x,y:S.y,t1:C,t2:k}))}}return m}function Ve(t,e,n){t=tn(t),e=tn(e);for(var a,o,i,r,c,l,s,u,d,m,p=n?0:[],f=0,h=t.length;f<h;f++){var v=t[f];if("M"==v[0])a=c=v[1],o=l=v[2];else{"C"==v[0]?(d=[a,o].concat(v.slice(1)),a=d[6],o=d[7]):(d=[a,o,a,o,c,l,c,l],a=c,o=l);for(var g=0,y=e.length;g<y;g++){var b=e[g];if("M"==b[0])i=s=b[1],r=u=b[2];else{"C"==b[0]?(m=[i,r].concat(b.slice(1)),i=m[6],r=m[7]):(m=[i,r,i,r,s,u,s,u],i=s,r=u);var x=Xe(d,m,n);if(n)p+=x;else{for(var w=0,_=x.length;w<_;w++)x[w].segment1=f,x[w].segment2=g,x[w].bez1=d,x[w].bez2=m;p=p.concat(x)}}}}}return p}function We(t){var e=Pe(t);if(e.abs)return Fe(e.abs);if(Ne(t)&&Ne(t&&t[0])||(t=Oe(t)),!t||!t.length)return[["M",0,0]];var n,a=[],o=0,i=0,r=0,c=0,l=0;"M"==t[0][0]&&(o=+t[0][1],i=+t[0][2],r=o,c=i,l++,a[0]=["M",o,i]);for(var s,u,d=l,m=t.length;d<m;d++){if(a.push(s=[]),u=t[d],n=u[0],n!=n.toUpperCase())switch(s[0]=n.toUpperCase(),s[0]){case"A":s[1]=u[1],s[2]=u[2],s[3]=u[3],s[4]=u[4],s[5]=u[5],s[6]=+u[6]+o,s[7]=+u[7]+i;break;case"V":s[1]=+u[1]+i;break;case"H":s[1]=+u[1]+o;break;case"M":r=+u[1]+o,c=+u[2]+i;default:for(var p=1,f=u.length;p<f;p++)s[p]=+u[p]+(p%2?o:i)}else for(var h=0,v=u.length;h<v;h++)s[h]=u[h];switch(n=n.toUpperCase(),s[0]){case"Z":o=+r,i=+c;break;case"H":o=s[1];break;case"V":i=s[1];break;case"M":r=s[s.length-2],c=s[s.length-1];default:o=s[s.length-2],i=s[s.length-1]}}return a.toString=qe,e.abs=Fe(a),a}function Je(t){return t[0]===t[2]&&t[1]===t[3]&&t[4]===t[6]&&t[5]===t[7]}function Ge(t,e,n,a){return[t,e,n,a,n,a]}function Qe(t,e,n,a,o,i){var r=1/3,c=2/3;return[r*t+c*n,r*e+c*a,r*o+c*n,r*i+c*a,o,i]}function Ye(t,e,n,a,o,i,r,c,l,s){var u,d=120*we/180,m=we/180*(+o||0),p=[],f=je((function(t,e,n){var a=t*xe.cos(n)-e*xe.sin(n),o=t*xe.sin(n)+e*xe.cos(n);return{x:a,y:o}}));if(s)S=s[0],C=s[1],w=s[2],_=s[3];else{u=f(t,e,-m),t=u.x,e=u.y,u=f(c,l,-m),c=u.x,l=u.y;var h=(t-c)/2,v=(e-l)/2,g=h*h/(n*n)+v*v/(a*a);g>1&&(g=xe.sqrt(g),n*=g,a*=g);var y=n*n,b=a*a,x=(i==r?-1:1)*xe.sqrt(ke((y*b-y*v*v-b*h*h)/(y*v*v+b*h*h))),w=x*n*v/a+(t+c)/2,_=x*-a*h/n+(e+l)/2,S=xe.asin(((e-_)/a).toFixed(9)),C=xe.asin(((l-_)/a).toFixed(9));S=t<w?we-S:S,C=c<w?we-C:C,S<0&&(S=2*we+S),C<0&&(C=2*we+C),r&&S>C&&(S-=2*we),!r&&C>S&&(C-=2*we)}var k=C-S;if(ke(k)>d){var A=C,E=c,N=l;C=S+d*(r&&C>S?1:-1),c=w+n*xe.cos(C),l=_+a*xe.sin(C),p=Ye(c,l,n,a,o,0,r,E,N,[C,A,w,_])}k=C-S;var T=xe.cos(S),M=xe.sin(S),L=xe.cos(C),j=xe.sin(C),O=xe.tan(k/4),P=4/3*n*O,B=4/3*a*O,q=[t,e],F=[t+P*M,e-B*T],H=[c+P*j,l-B*L],D=[c,l];if(F[0]=2*q[0]-F[0],F[1]=2*q[1]-F[1],s)return[F,H,D].concat(p);p=[F,H,D].concat(p).join().split(",");for(var I=[],$=0,R=p.length;$<R;$++)I[$]=$%2?f(p[$-1],p[$],m).y:f(p[$],p[$+1],m).x;return I}function Ze(t,e,n,a,o,i,r,c){for(var l,s,u,d,m,p,f,h,v=[],g=[[],[]],y=0;y<2;++y)if(0==y?(s=6*t-12*n+6*o,l=-3*t+9*n-9*o+3*r,u=3*n-3*t):(s=6*e-12*a+6*i,l=-3*e+9*a-9*i+3*c,u=3*a-3*e),ke(l)<1e-12){if(ke(s)<1e-12)continue;d=-u/s,0<d&&d<1&&v.push(d)}else f=s*s-4*u*l,h=xe.sqrt(f),f<0||(m=(-s+h)/(2*l),0<m&&m<1&&v.push(m),p=(-s-h)/(2*l),0<p&&p<1&&v.push(p));var b,x=v.length,w=x;while(x--)d=v[x],b=1-d,g[0][x]=b*b*b*t+3*b*b*d*n+3*b*d*d*o+d*d*d*r,g[1][x]=b*b*b*e+3*b*b*d*a+3*b*d*d*i+d*d*d*c;return g[0][w]=t,g[1][w]=e,g[0][w+1]=r,g[1][w+1]=c,g[0].length=g[1].length=w+2,{x0:_e.apply(0,g[0]),y0:_e.apply(0,g[1]),x1:Se.apply(0,g[0]),y1:Se.apply(0,g[1])}}function tn(t){var e=Pe(t);if(e.curve)return Fe(e.curve);for(var n=We(t),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(t,e,n){var a,o;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(Ye.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==n||"S"==n?(a=2*e.x-e.bx,o=2*e.y-e.by):(a=e.x,o=e.y),t=["C",a,o].concat(t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(Qe(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(Qe(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(Ge(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(Ge(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(Ge(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(Ge(e.x,e.y,e.X,e.Y));break}return t},i=function(t,e){if(t[e].length>7){t[e].shift();var a=t[e];while(a.length)r[e]="A",t.splice(e++,0,["C"].concat(a.splice(0,6)));t.splice(e,1),u=n.length}},r=[],c="",l="",s=0,u=n.length;s<u;s++){n[s]&&(c=n[s][0]),"C"!=c&&(r[s]=c,s&&(l=r[s-1])),n[s]=o(n[s],a,l),"A"!=r[s]&&"C"==c&&(r[s]="C"),i(n,s);var d=n[s],m=d.length;a.x=d[m-2],a.y=d[m-1],a.bx=be(d[m-4])||a.x,a.by=be(d[m-3])||a.y}return e.curve=Fe(n),n}var en=Ve;function nn(t,e,n,a,o,i){if(t=parseFloat(t),e=parseFloat(e),n=parseFloat(n),a=parseFloat(a),o=parseFloat(o),i=parseFloat(i),o=o||i||0,i=i||o||0,!isNaN(t-e+n-a+o-i)){o=o>n/2?n/2:o,i=i>a/2?a/2:i;var r="";return r=0==o||0==i?"M ".concat(t," ").concat(e," h ").concat(n," v ").concat(a," h ").concat(-n," Z"):"M ".concat(t," ").concat(e+i," ")+"a ".concat(o," ").concat(i," 0 0 1 ").concat(o," ").concat(-i," ")+"h ".concat(n-2*o," ")+"a ".concat(o," ").concat(i," 0 0 1 ").concat(o," ").concat(i," ")+"v ".concat(a-2*i," ")+"a ".concat(o," ").concat(i," 0 0 1 ").concat(-o," ").concat(i," ")+"h ".concat(2*o-n," ")+"a ".concat(o," ").concat(i," 0 0 1 ").concat(-o," ").concat(-i," ")+"Z",r}}function an(t,e,n,a){if(t=parseFloat(t),e=parseFloat(e),n=parseFloat(n),a=parseFloat(a),!isNaN(t-e+n-a))return"M ".concat(t-n," ").concat(e," ")+"a ".concat(n," ").concat(a," 0 1 0 ").concat(2*n," 0")+"a ".concat(n," ").concat(a," 0 1 0 ").concat(-2*n," 0 ")+"Z"}function on(t){var e=t.split(/(,|, )/g);return"M ".concat(e[0]," L ").concat(e.splice(1).join(" ")," Z")}function rn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!window.paints[t]){window.paints.push(t);var n="http://www.w3.org/2000/svg",a=document.getElementById(t),o=Object(s["a"])({color:"#6190e8",fillColor:"none",lineWidth:2,eraserSize:10,fontFamily:"inherit",fontSize:14,type:"pen"},e);document.querySelector('[data-type="'.concat(o.type,'"')).classList.add("active"),document.querySelector("#select-color").value="custom",document.querySelector("#custom-color").value=o.color,document.querySelector("#select-size").value="custom",document.querySelector("#custom-size").value=o.lineWidth,document.querySelector("#select-fill-color").value="none"===o.fillColor?"none":"custom",document.querySelector("#custom-fill-color").value="none"===o.fillColor?"black":o.fillColor,document.querySelector("#text-size").value=o.fontSize;var i=!1,r=!1,c=!1,l=null,u="",d=null,m=!1,p=!1,f=null,h=null,v=null,g={},y=[],b=[],x=[],w=[],_=!0,S=!1,C=void 0;try{for(var k,A=a.children[Symbol.iterator]();!(_=(k=A.next()).done);_=!0){var E=k.value;y.push(E),x.push(E.getBBox())}}catch(Na){S=!0,C=Na}finally{try{_||null==A.return||A.return()}finally{if(S)throw C}}var N=function(t,e){var n=a.getBoundingClientRect();return m?{x:20*Math.round((t-n.x)/20),y:20*Math.round((e-n.y)/20)}:{x:Math.round(100*(t-n.x))/100,y:Math.round(100*(e-n.y))/100}},T=function(t){i=!0;var e=N(t.clientX,t.clientY),s=e.x,m=e.y;if(t.target.getAttributeNS(null,"data-resize"))return c=!0,p=t.target,d={x:s,y:m},f=parseInt(p.parentElement.getAttributeNS(null,"data-index")),h=y[f],v=h.nodeName,"path"===v&&(g={x:x[f].x,y:x[f].y,width:x[f].width,height:x[f].height,points:h.getAttributeNS(null,"d").split(/M |L /g).map((function(t){return{x:parseFloat(t.split(",")[0]),y:parseFloat(t.split(",")[1])}}))}),"line"===v&&(g={x1:parseFloat(h.getAttributeNS(null,"x1")),y1:parseFloat(h.getAttributeNS(null,"y1")),x2:parseFloat(h.getAttributeNS(null,"x2")),y2:parseFloat(h.getAttributeNS(null,"y2"))}),"rect"===v&&(g={x:parseFloat(h.getAttributeNS(null,"x")),y:parseFloat(h.getAttributeNS(null,"y")),width:parseFloat(h.getAttributeNS(null,"width")),height:parseFloat(h.getAttributeNS(null,"height"))}),"circle"!==v&&"ellipse"!==v||(g={cx:parseFloat(h.getAttributeNS(null,"cx")),cy:parseFloat(h.getAttributeNS(null,"cy")),rx:parseFloat(h.getAttributeNS(null,"circle"===v?"r":"rx")),ry:parseFloat(h.getAttributeNS(null,"circle"===v?"r":"ry"))}),void("polygon"===v&&(g={x:x[f].x,y:x[f].y,width:x[f].width,height:x[f].height,points:h.getAttributeNS(null,"points").split(", ").map((function(t){return{x:parseFloat(t.split(" ")[0]),y:parseFloat(t.split(" ")[1])}}))}));if(a.querySelector("#selects")&&a.querySelector("#selects").remove(),b=[],"pen"===o.type&&(l=document.createElementNS(n,"path"),l.setAttributeNS(null,"d","M ".concat(s,",").concat(m))),"line"===o.type&&(l=document.createElementNS(n,"line"),l.setAttributeNS(null,"x1",s),l.setAttributeNS(null,"y1",m),l.setAttributeNS(null,"x2",s),l.setAttributeNS(null,"y2",m),d={x:s,y:m}),"rect"!==o.type&&"round-rect"!==o.type||(l=document.createElementNS(n,"rect"),l.setAttributeNS(null,"x",s),l.setAttributeNS(null,"y",m),d={x:s,y:m}),"circle"===o.type&&(l=document.createElementNS(n,"circle"),l.setAttributeNS(null,"cx",s),l.setAttributeNS(null,"cy",m),d={x:s,y:m}),"ellipse"===o.type&&(l=document.createElementNS(n,"ellipse"),l.setAttributeNS(null,"cx",s),l.setAttributeNS(null,"cy",m),d={x:s,y:m}),"polygon"===o.type&&(null===d?(l=document.createElementNS(n,"polygon"),l.setAttributeNS(null,"points","".concat(s," ").concat(m)),d="".concat(s," ").concat(m,", ")):d+="".concat(s," ").concat(m,", ")),"diamond"===o.type&&(l=document.createElementNS(n,"polygon"),l.setAttributeNS(null,"points","".concat(s," ").concat(m)),d={x:s,y:m}),"eraser"===o.type)u="M ".concat(s," ").concat(m);else if("text"===o.type){i=!1,l=document.createElementNS(n,"text"),l.setAttributeNS(null,"font-family",o.fontFamily),l.setAttributeNS(null,"font-size",o.fontSize),l.setAttributeNS(null,"fill",o.color),l.setAttributeNS(null,"x",s),l.setAttributeNS(null,"y",m);var w=document.createElement("input");w.style.fontFamily=o.fontFamily,w.style.fontSize=o.fontSize+"px",w.style.color=o.color,w.type="text",w.style.position="fixed",w.style.top=t.clientY-o.fontSize+"px",w.style.left=t.clientX+"px",document.body.append(w),setTimeout((function(){return w.focus()}),0),w.addEventListener("blur",(function(t){w.remove()})),w.addEventListener("keydown",(function(t){"Enter"===t.key&&(l.textContent=w.value,a.append(l),w.remove())}))}else"select"===o.type?(l=document.createElementNS(n,"rect"),l.setAttributeNS(null,"x",s),l.setAttributeNS(null,"y",m),l.setAttributeNS(null,"fill","rgba(240, 240,240, 0.4)"),l.setAttributeNS(null,"stroke","#BBB"),l.setAttributeNS(null,"stroke-width",1),a.append(l),d={x:s,y:m},r=!1):("pen"!==o.type&&"line"!==o.type?l.setAttributeNS(null,"fill",o.fillColor):l.setAttributeNS(null,"fill","none"),l.setAttributeNS(null,"stroke",o.color),l.setAttributeNS(null,"stroke-width",o.lineWidth),a.append(l))},M=function(t){if(i){var e=N(t.clientX,t.clientY),n=e.x,a=e.y;if(c){var s=p.parentElement;switch(p.getAttributeNS(null,"data-resize")){case"mv":if("line"===v&&(h.setAttributeNS(null,"x1",g.x1+n-d.x),h.setAttributeNS(null,"x2",g.x2+n-d.x),h.setAttributeNS(null,"y1",g.y1+a-d.y),h.setAttributeNS(null,"y2",g.y2+a-d.y)),"rect"===v&&(h.setAttributeNS(null,"x",g.x+n-d.x),h.setAttributeNS(null,"y",g.y+a-d.y)),"circle"!==v&&"ellipse"!==v||(h.setAttributeNS(null,"cx",g.cx+n-d.x),h.setAttributeNS(null,"cy",g.cy+a-d.y)),"polygon"===v){var m=g.points.map((function(t){return"".concat(t.x+n-d.x," ").concat(t.y+a-d.y)})).join(", ");h.setAttributeNS(null,"points",m)}if("path"===v){var b=g.points.map((function(t){return isNaN(t.x)||isNaN(t.y)?"":"".concat(t.x+n-d.x,",").concat(t.y+a-d.y)})).join(" L ");h.setAttributeNS(null,"d","M".concat(b.substring(2)))}break;case"tl":if("line"===v&&(h.setAttributeNS(null,"x1",g.x1+n-d.x),h.setAttributeNS(null,"y1",g.y1+a-d.y)),"rect"===v&&(h.setAttributeNS(null,"x",g.x+n-d.x),h.setAttributeNS(null,"y",g.y+a-d.y),h.setAttributeNS(null,"width",g.width-n+d.x),h.setAttributeNS(null,"height",g.height-a+d.y)),"circle"===v){var w=Math.min((n-d.x)/2,(a-d.y)/2);h.setAttributeNS(null,"cx",g.cx+w),h.setAttributeNS(null,"cy",g.cy+w),h.setAttributeNS(null,"r",g.rx-w)}if("ellipse"===v&&(h.setAttributeNS(null,"cx",g.cx+(n-d.x)/2),h.setAttributeNS(null,"cy",g.cy+(a-d.y)/2),h.setAttributeNS(null,"rx",g.rx-(n-d.x)/2),h.setAttributeNS(null,"ry",g.ry-(a-d.y)/2)),"polygon"===v){var _={x:1-(n-d.x)/g.width,y:1-(a-d.y)/g.height},S=g.points.map((function(t){return"".concat((t.x-g.x)*_.x+g.x+n-d.x," ").concat((t.y-g.y)*_.y+g.y+a-d.y)})).join(", ");h.setAttributeNS(null,"points",S)}if("path"===v){var C={x:1-(n-d.x)/g.width,y:1-(a-d.y)/g.height},k=g.points.map((function(t){return isNaN(t.x)||isNaN(t.y)?"":"".concat((t.x-g.x)*C.x+g.x+n-d.x,",").concat((t.y-g.y)*C.y+g.y+a-d.y)})).join(" L ");h.setAttributeNS(null,"d","M".concat(k.substring(2)))}break;case"bl":if("line"===v&&(h.setAttributeNS(null,"x1",g.x1+n-d.x),h.setAttributeNS(null,"y2",g.y2+a-d.y)),"rect"===v&&(h.setAttributeNS(null,"x",g.x+n-d.x),h.setAttributeNS(null,"width",g.width-n+d.x),h.setAttributeNS(null,"height",g.height+a-d.y)),"circle"===v){var A=Math.min((n-d.x)/2,-(a-d.y)/2);h.setAttributeNS(null,"cx",g.cx+A),h.setAttributeNS(null,"cy",g.cy-A),h.setAttributeNS(null,"r",g.rx-A)}if("ellipse"===v&&(h.setAttributeNS(null,"cx",g.cx+(n-d.x)/2),h.setAttributeNS(null,"cy",g.cy+(a-d.y)/2),h.setAttributeNS(null,"rx",g.rx-(n-d.x)/2),h.setAttributeNS(null,"ry",g.ry+(a-d.y)/2)),"polygon"===v){var E={x:1-(n-d.x)/g.width,y:1+(a-d.y)/g.height},T=g.points.map((function(t){return"".concat((t.x-g.x)*E.x+g.x+n-d.x," ").concat((t.y-g.y)*E.y+g.y)})).join(", ");h.setAttributeNS(null,"points",T)}if("path"===v){var M={x:1-(n-d.x)/g.width,y:1+(a-d.y)/g.height},L=g.points.map((function(t){return isNaN(t.x)||isNaN(t.y)?"":"".concat((t.x-g.x)*M.x+g.x+n-d.x,",").concat((t.y-g.y)*M.y+g.y)})).join(" L ");h.setAttributeNS(null,"d","M".concat(L.substring(2)))}break;case"tr":if("line"===v&&(h.setAttributeNS(null,"x2",g.x2+n-d.x),h.setAttributeNS(null,"y1",g.y1+a-d.y)),"rect"===v&&(h.setAttributeNS(null,"y",g.y+a-d.y),h.setAttributeNS(null,"width",g.width+n-d.x),h.setAttributeNS(null,"height",g.height-a+d.y)),"circle"===v){var j=Math.min((n-d.x)/2,-(a-d.y)/2);h.setAttributeNS(null,"cx",g.cx+j),h.setAttributeNS(null,"cy",g.cy-j),h.setAttributeNS(null,"r",g.rx+j)}if("ellipse"===v&&(h.setAttributeNS(null,"cx",g.cx+(n-d.x)/2),h.setAttributeNS(null,"cy",g.cy+(a-d.y)/2),h.setAttributeNS(null,"rx",g.rx+(n-d.x)/2),h.setAttributeNS(null,"ry",g.ry-(a-d.y)/2)),"polygon"===v){var O={x:1+(n-d.x)/g.width,y:1-(a-d.y)/g.height},P=g.points.map((function(t){return"".concat((t.x-g.x)*O.x+g.x," ").concat((t.y-g.y)*O.y+g.y+a-d.y)})).join(", ");h.setAttributeNS(null,"points",P)}if("path"===v){var B={x:1+(n-d.x)/g.width,y:1-(a-d.y)/g.height},q=g.points.map((function(t){return isNaN(t.x)||isNaN(t.y)?"":"".concat((t.x-g.x)*B.x+g.x,",").concat((t.y-g.y)*B.y+g.y+a-d.y)})).join(" L ");h.setAttributeNS(null,"d","M".concat(q.substring(2)))}break;case"br":if("line"===v&&(h.setAttributeNS(null,"x2",g.x2+n-d.x),h.setAttributeNS(null,"y2",g.y2+a-d.y)),"rect"===v&&(h.setAttributeNS(null,"width",g.width+n-d.x),h.setAttributeNS(null,"height",g.height+a-d.y)),"circle"===v){var F=Math.min((n-d.x)/2,(a-d.y)/2);h.setAttributeNS(null,"cx",g.cx+F),h.setAttributeNS(null,"cy",g.cy+F),h.setAttributeNS(null,"r",g.rx+F)}if("ellipse"===v&&(h.setAttributeNS(null,"cx",g.cx+(n-d.x)/2),h.setAttributeNS(null,"cy",g.cy+(a-d.y)/2),h.setAttributeNS(null,"rx",g.rx+(n-d.x)/2),h.setAttributeNS(null,"ry",g.ry+(a-d.y)/2)),"polygon"===v){var H={x:1+(n-d.x)/g.width,y:1+(a-d.y)/g.height},D=g.points.map((function(t){return"".concat((t.x-g.x)*H.x+g.x," ").concat((t.y-g.y)*H.y+g.y)})).join(", ");h.setAttributeNS(null,"points",D)}if("path"===v){var I={x:1+(n-d.x)/g.width,y:1+(a-d.y)/g.height},$=g.points.map((function(t){return isNaN(t.x)||isNaN(t.y)?"":"".concat((t.x-g.x)*I.x+g.x,",").concat((t.y-g.y)*I.y+g.y)})).join(" L ");h.setAttributeNS(null,"d","M".concat($.substring(2)))}break}var R=h.getBBox();return x[f]=R,s.children[0].setAttributeNS(null,"x",R.x-5),s.children[0].setAttributeNS(null,"y",R.y-5),s.children[0].setAttributeNS(null,"width",R.width+10),s.children[0].setAttributeNS(null,"height",R.height+10),s.children[1].setAttributeNS(null,"x",R.x-8),s.children[1].setAttributeNS(null,"y",R.y-8),s.children[2].setAttributeNS(null,"x",R.x+R.width),s.children[2].setAttributeNS(null,"y",R.y-8),s.children[3].setAttributeNS(null,"x",R.x+R.width),s.children[3].setAttributeNS(null,"y",R.y+R.height),s.children[4].setAttributeNS(null,"x",R.x-8),void s.children[4].setAttributeNS(null,"y",R.y+R.height)}if("pen"===o.type&&l.setAttributeNS(null,"d","".concat(l.getAttributeNS(null,"d")," L ").concat(n,",").concat(a)),"eraser"===o.type){u+="L ".concat(n," ").concat(a);var U=y.findIndex((function(t){return en(u,t.getAttributeNS(null,"d")).length>0}));-1!==U&&(y[U].remove(),y.splice(U,1),x.splice(U,1))}if("line"===o.type&&(l.setAttributeNS(null,"x2",n),l.setAttributeNS(null,"y2",a)),"rect"!==o.type&&"round-rect"!==o.type||(n-d.x<0&&(l.setAttributeNS(null,"x",n),l.setAttributeNS(null,"y",a)),l.setAttributeNS(null,"width",Math.abs(n-d.x)),l.setAttributeNS(null,"height",Math.abs(a-d.y)),"round-rect"===o.type&&(l.setAttributeNS(null,"rx",10),l.setAttributeNS(null,"ry",10))),"circle"===o.type&&l.setAttributeNS(null,"r",Math.sqrt(Math.pow(n-d.x,2)+Math.pow(a-d.y,2))),"ellipse"===o.type&&(l.setAttributeNS(null,"rx",Math.abs(n-d.x)),l.setAttributeNS(null,"ry",Math.abs(a-d.y))),"polygon"===o.type&&l.setAttributeNS(null,"points",d+"".concat(n," ").concat(a)),"diamond"===o.type){var K=(n+d.x)/2,z=(a+d.y)/2;l.setAttributeNS(null,"points","".concat(n," ").concat(z,", ").concat(K," ").concat(a,", ").concat(d.x," ").concat(z,", ").concat(K," ").concat(d.y))}"select"===o.type&&(n-d.x<0&&(l.setAttributeNS(null,"x",n),l.setAttributeNS(null,"y",a)),l.setAttributeNS(null,"width",Math.abs(n-d.x)),l.setAttributeNS(null,"height",Math.abs(a-d.y)),r=!0)}},L=function(t){var e=N(t.clientX,t.clientY),s=e.x,u=e.y;if(i=!1,"eraser"!==o.type)if(c)c=!1;else if("line"===o.type&&l.setAttributeNS(null,"d","M ".concat(l.getAttributeNS(null,"x1")," ").concat(l.getAttributeNS(null,"y1")," L ").concat(l.getAttributeNS(null,"x2")," ").concat(l.getAttributeNS(null,"y2"))),"rect"!==o.type&&"round-rect"!==o.type||l.setAttributeNS(null,"d",nn(l.getAttributeNS(null,"x"),l.getAttributeNS(null,"y"),l.getAttributeNS(null,"width"),l.getAttributeNS(null,"height"),l.getAttributeNS(null,"rx"),l.getAttributeNS(null,"ry"))),"circle"===o.type&&l.setAttributeNS(null,"d",an(l.getAttributeNS(null,"cx"),l.getAttributeNS(null,"cy"),l.getAttributeNS(null,"r"),l.getAttributeNS(null,"r"))),"ellipse"===o.type&&l.setAttributeNS(null,"d",an(l.getAttributeNS(null,"cx"),l.getAttributeNS(null,"cy"),l.getAttributeNS(null,"rx"),l.getAttributeNS(null,"ry"))),"polygon"!==o.type)if("diamond"===o.type&&l.setAttributeNS(null,"d",on(l.getAttributeNS(null,"points"))),"select"===o.type){if(!r)return void a.querySelector("#selects").remove();l.remove();var m=document.createElementNS(n,"g");m.id="selects",a.append(m);for(var p=0;p<x.length;p++)x[p].x>=d.x&&x[p].y>=d.y&&x[p].x+x[p].width<=s&&x[p].y+x[p].height<=u&&function(){var t=document.createElementNS(n,"g");t.setAttributeNS(null,"data-index",p),m.append(t);var e=document.createElementNS(n,"rect");e.setAttributeNS(null,"x",x[p].x-5),e.setAttributeNS(null,"y",x[p].y-5),e.setAttributeNS(null,"width",x[p].width+10),e.setAttributeNS(null,"height",x[p].height+10),e.setAttributeNS(null,"fill","transparent"),e.setAttributeNS(null,"stroke","#888"),e.setAttributeNS(null,"stroke-width",1),e.setAttributeNS(null,"stroke-dasharray","3 3"),e.setAttributeNS(null,"data-resize","mv"),e.style.cursor="move",t.append(e);var a=function(e,a,o){var i=document.createElementNS(n,"ro"===o?"circle":"rect");"ro"===o?(i.setAttributeNS(null,"cx",e),i.setAttributeNS(null,"cy",a),i.setAttributeNS(null,"r",4)):(i.setAttributeNS(null,"x",e),i.setAttributeNS(null,"y",a),i.setAttributeNS(null,"width",8),i.setAttributeNS(null,"height",8)),i.setAttributeNS(null,"fill","#FFF"),i.setAttributeNS(null,"stroke","#888"),i.setAttributeNS(null,"stroke-width",1),i.setAttributeNS(null,"data-resize",o),i.style.cursor="ro"===o?"alias":"tl"===o||"br"===o?"nwse-resize":"nesw-resize",t.append(i)};a(x[p].x-8,x[p].y-8,"tl"),a(x[p].x+x[p].width,x[p].y-8,"tr"),a(x[p].x+x[p].width,x[p].y+x[p].height,"br"),a(x[p].x-8,x[p].y+x[p].height,"bl")}()}else y.push(l),x.push(l.getBBox());else i=!0};a.addEventListener("pointerdown",T),a.addEventListener("pointermove",M),a.addEventListener("pointerup",L);var j=function(){d=null,i=!1,l.setAttributeNS(null,"d",on(l.getAttributeNS(null,"points"))),y.push(l),x.push(l.getBBox())};window.addEventListener("keydown",(function(t){if("Enter"===t.key&&j(),"Control"===t.key&&(m=!0),"Delete"===t.key&&a.querySelector("#selects")){b=[];var e=!0,n=!1,o=void 0;try{for(var i,r=a.querySelector("#selects").children[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var c=i.value,l=c.getAttributeNS(null,"data-index");y[l].remove(),b.push(y[l]),y.slice(l,1),x.splice(l,1)}}catch(Na){n=!0,o=Na}finally{try{e||null==r.return||r.return()}finally{if(n)throw o}}a.querySelector("#selects").remove()}})),window.addEventListener("keyup",(function(t){"Control"===t.key&&(m=!1)})),document.querySelectorAll(".svg-pen .svg-btn").forEach((function(t){t.addEventListener("click",(function(e){document.querySelector(".svg-button .active")&&document.querySelector(".svg-button .active").classList.remove("active"),t.classList.add("active"),o.type=t.getAttribute("data-type")}))})),document.querySelector("#select-color").addEventListener("change",(function(t){o.color="custom"===t.target.value?document.querySelector("#custom-color").value:t.target.value})),document.querySelector("#custom-color").addEventListener("change",(function(t){"custom"===document.querySelector("#select-color").value&&(o.color=t.target.value)})),document.querySelector("#select-size").addEventListener("change",(function(t){switch(t.target.value){case"custom":o.lineWidth=document.querySelector("#custom-size").value;break;case"small":o.lineWidth=2;break;case"middle":o.lineWidth=4;break;case"big":o.lineWidth=6;break}})),document.querySelector("#custom-size").addEventListener("change",(function(t){"custom"===document.querySelector("#select-size").value&&(o.lineWidth=t.target.value)})),document.querySelector("#select-fill-color").addEventListener("change",(function(t){o.fillColor="custom"===t.target.value?document.querySelector("#custom-fill-color").value:t.target.value})),document.querySelector("#custom-fill-color").addEventListener("change",(function(t){"custom"===document.querySelector("#select-fill-color").value&&(o.fillColor=t.target.value)})),document.querySelector("#text-size").addEventListener("change",(function(t){o.fontSize=t.target.value})),document.querySelectorAll(".svg-shape .svg-btn").forEach((function(t){t.addEventListener("click",(function(e){document.querySelector(".svg-button .active")&&document.querySelector(".svg-button .active").classList.remove("active"),t.classList.add("active"),o.type=t.getAttribute("data-type")}))})),document.querySelector("#svg-undo").addEventListener("click",(function(t){if(!(y.length<1)){var e=y.pop();e.remove(),b.push(e),w.push(x.pop())}})),document.querySelector("#svg-redo").addEventListener("click",(function(t){if(!(b.length<1)){var e=b.pop();a.append(e),y.push(e),x.push(w.pop())}})),document.querySelector("#svg-clean").addEventListener("click",(function(t){y=[],b=[],a.innerHTML=""}))}}window.paints=[],ce["c"].add(le["a"]);var cn={name:"graff-board",components:{"fa-icon":se["a"]},computed:Object(s["a"])({},zt(["htmlViewContent","timeToast","graffBoard"]),{graffEditContent:function(){return this.graffBoard.content[this.graffBoard.hash]?this.graffBoard.content[this.graffBoard.hash].substring(this.graffBoard.content[this.graffBoard.hash].indexOf("|")+1):""}}),mounted:function(){rn("graff-svg")},methods:{save:function(){document.querySelector("#graff-svg #selects")&&document.querySelector("#graff-svg #selects").remove();var t=document.querySelector("#graff-svg").getBBox(),e="".concat(t.x-10," ").concat(t.y-10," ").concat(t.width+20," ").concat(t.height+20),n=document.querySelector("#graff-svg").innerHTML,a=document.querySelector('.graffiti[data-hash="'.concat(this.graffBoard.hash,'"]'));a.innerHTML=n,a.setAttribute("viewBox",e),n="".concat(e,"|")+n,this.graffBoard.content[this.graffBoard.hash]=n,this.graffBoard.hash=!1},cancel:function(){this.graffBoard.hash=!1}}},ln=cn,sn=Object(Gt["a"])(ln,ve,ge,!1,null,null,null),un=sn.exports,dn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.modal.operate,expression:"modal.operate"},{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"ace-toolbar-modal"},[n("div",{staticClass:"xk-modal-wrapper"},[n("div",{staticClass:"xk-modal"},[n("div",{staticClass:"xk-modal-header"},[n("div",{staticClass:"xk-modal-title"},[n("p",[t._v(t._s(t.modal.title))])])]),n("div",{staticClass:"xk-modal-body"},["link"===t.modal.operate?n("link-item",{attrs:{data:t.modal.data}}):t._e(),"image"===t.modal.operate?n("image-item",{attrs:{data:t.modal.data}}):t._e(),"video"===t.modal.operate?n("video-item",{attrs:{data:t.modal.data}}):t._e(),"toLine"===t.modal.operate?n("toline-item",{attrs:{data:t.modal.data}}):t._e(),"localStorage"===t.modal.operate?n("localstorage-item",{attrs:{data:t.modal.data}}):t._e(),"table"===t.modal.operate?n("table-item",{attrs:{data:t.modal.data}}):t._e(),"help"===t.modal.operate?n("help-item",{attrs:{data:t.modal.data}}):t._e(),"info"===t.modal.operate?n("info-item",{attrs:{data:t.modal.data}}):t._e()],1),n("div",{staticClass:"xk-clear"}),n("div",{staticClass:"xk-modal-footer"},[n("button",{staticClass:"xk-button",on:{click:function(e){return t.modal.cancel()}}},[t._v("取消")]),n("button",{staticClass:"xk-button xk-button-primary",on:{click:function(e){return t.modal.submit()}}},[t._v(" 确定 ")])]),n("span",{staticClass:"xk-modal-close",on:{click:function(e){return t.modal.cancel()}}},[n("fa-icon",{attrs:{icon:"times"}})],1)])])])},mn=[],pn=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},fn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"markdown-body help"},[n("h3",[t._v("Markdown语法")]),n("ul",[n("li",[n("a",{attrs:{href:"http://www.markdown.cn/"}},[t._v("Markdown 语法说明")])]),n("li",[n("a",{attrs:{href:"https://help.github.com/articles/github-flavored-markdown/"}},[t._v("GitHub Flavored Markdown")])])]),n("h3",[t._v("XK-Editor独有的语法")]),n("table",[n("tr",[n("th",[t._v("语法格式")]),n("th",[t._v("参数")]),n("th",[t._v("样例")])]),n("tr",[n("td",[t._v("[text]{style|label}")]),n("td",[t._v(" text:内容，style:样式(css)，label:包裹的标签(span,p,font)默认为p ")]),n("td",[t._v("[这是蓝色的字]{color:blue} [灰色背景]{background:#ddd|span}")])]),n("tr",[n("td",[t._v("[TOC]")]),n("td",[t._v("null")]),n("td",[t._v("在[TOC]位置填充目录")])])]),n("h3",[t._v("键盘快捷键")]),n("blockquote",[t._v("当编辑器取得焦点的时候才能使用快捷键")]),n("table",[n("tr",[n("th",[t._v("快捷键")]),n("th",[t._v("说明")])]),n("tr",[n("td",[t._v("F1")]),n("td",[t._v("转换为HTML编辑")])]),n("tr",[n("td",[t._v("F2")]),n("td",[t._v("转换为TinyMCE")])]),n("tr",[n("td",[t._v("F7")]),n("td",[t._v("显示隐藏目录")])]),n("tr",[n("td",[t._v("F8")]),n("td",[t._v("开启/关闭打字机模式")])]),n("tr",[n("td",[t._v("F9")]),n("td",[t._v("开启/关闭实时预览")])]),n("tr",[n("td",[t._v("F10")]),n("td",[t._v("切换全窗口预览")])]),n("tr",[n("td",[t._v("F11")]),n("td",[t._v("切换全屏")])]),n("tr",[n("td",[t._v("Ctrl + 1~6 / Command + 1~6")]),n("td",[t._v("插入标题1~6")])]),n("tr",[n("td",[t._v("Ctrl + A / Command + A")]),n("td",[t._v("全选")])]),n("tr",[n("td",[t._v("Ctrl + B / Command + B")]),n("td",[t._v("粗体")])]),n("tr",[n("td",[t._v("Ctrl + D / Command + D")]),n("td",[t._v("插入时间")])]),n("tr",[n("td",[t._v("Ctrl + F / Command + F")]),n("td",[t._v("搜索")])]),n("tr",[n("td",[t._v("Ctrl + G / Command + G")]),n("td",[t._v("匹配下一项")])]),n("tr",[n("td",[t._v("Ctrl + H / Command + H")]),n("td",[t._v("插入水平线")])]),n("tr",[n("td",[t._v("Ctrl + I / Command + I")]),n("td",[t._v("斜体")])]),n("tr",[n("td",[t._v("Ctrl + K / Command + K")]),n("td",[t._v("插入行内代码")])]),n("tr",[n("td",[t._v("Ctrl + L / Command + L")]),n("td",[t._v("插入链接")])]),n("tr",[n("td",[t._v("Ctrl + Q / Command + Q")]),n("td",[t._v("切换粘贴转化")])]),n("tr",[n("td",[t._v("Ctrl + U / Command + U")]),n("td",[t._v("插入无序列表")])]),n("tr",[n("td",[t._v("Ctrl + Z / Command + Z")]),n("td",[t._v("撤销")])]),n("tr",[n("td",[t._v("Ctrl + Y / Command + Y")]),n("td",[t._v("重做")])]),n("tr",[n("td",[t._v("Ctrl + Shift + I")]),n("td",[t._v("插入图片")])]),n("tr",[n("td",[t._v("Ctrl + Shift + K")]),n("td",[t._v("插入TeX(KaTeX)公式符号")])]),n("tr",[n("td",[t._v("Ctrl + Shift + O")]),n("td",[t._v("插入有序列表")])]),n("tr",[n("td",[t._v("Ctrl + Shift + P")]),n("td",[t._v("插入Code块")])]),n("tr",[n("td",[t._v("Ctrl + Shift + Q")]),n("td",[t._v("插入引用")])]),n("tr",[n("td",[t._v("Ctrl + Shift + S")]),n("td",[t._v("插入删除线")])]),n("tr",[n("td",[t._v("Ctrl + Shift + T")]),n("td",[t._v("插入表格")])]),n("tr",[n("td",[t._v("Shift + Shift + H")]),n("td",[t._v("打开使用帮助对话框")])]),n("tr",[n("td",[t._v("Ctrl + Shift + G")]),n("td",[t._v("跳转到指定的行")])]),n("tr",[n("td",[t._v("Ctrl + Shift + F")]),n("td",[t._v("格式化Markdown(美化)")])])]),n("h3",[t._v("Emoji表情")]),n("a",{attrs:{href:"https://www.webfx.com/tools/emoji-cheat-sheet/"}},[t._v("EMOJI CHEAT SHEET")]),n("h3",[t._v("流程图/时序图/甘特图")]),n("a",{attrs:{href:"https://mermaidjs.github.io/"}},[t._v("mermaid - GitBook")]),n("h3",[t._v("Tex数学公式")]),n("a",{attrs:{href:"https://juejin.im/post/5af93ec6518825428b38e7f4"}},[t._v("markdown 数学公式Latex语法 - 掘金")])])}],hn={name:"help-item"},vn=hn,gn=Object(Gt["a"])(vn,pn,fn,!1,null,null,null),yn=gn.exports,bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",[t._v("图片链接")]),n("div",{staticClass:"xk-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.src,expression:"data.src"}],attrs:{type:"url",placeholder:"请输入图片链接",autofocus:""},domProps:{value:t.data.src},on:{input:function(e){e.target.composing||t.$set(t.data,"src",e.target.value)}}})]),n("label",[t._v("图片描述")]),n("div",{staticClass:"xk-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.alt,expression:"data.alt"}],attrs:{type:"text",placeholder:"请输入图片描述"},domProps:{value:t.data.alt},on:{input:function(e){e.target.composing||t.$set(t.data,"alt",e.target.value)}}})]),t.openImgUpload?[t._m(0),n("div",{staticClass:"xk-input xk-col-12 img-upload-sub"},[n("button",{staticClass:"xk-button",on:{click:function(e){return t.imgUpload()}}},[t._v("上传")])])]:t._e()],2)},xn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"xk-input xk-col-12"},[n("input",{attrs:{id:"img-upload",type:"file"}})])}],wn={name:"image-item",computed:Object(s["a"])({},zt({data:function(t){return t.toolbarModal.data},openImgUpload:function(t){return!!t.setting.xkSetting.imgUpload}})),methods:{imgUpload:function(){Vt.actions.imgUpload()}}},_n=wn,Sn=Object(Gt["a"])(_n,bn,xn,!1,null,null,null),Cn=Sn.exports,kn=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},An=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"markdown-body info"},[n("h2",[t._v("XK-Editor")]),n("p",[t._v("开源的Markdown和富文本编辑器。基于Vue开发")]),n("p",[t._v("支持Markdown和HTML互转")]),n("p",[n("strong",[t._v("项目地址：")]),n("a",{attrs:{href:"https://github.com/syfxlin/xkeditor"}},[t._v("https://github.com/syfxlin/xkeditor")])]),n("p",[n("a",{attrs:{href:"https://github.com/syfxlin/xkeditor"}},[t._v("XK-Editor")]),t._v(" 由 "),n("a",{attrs:{href:"https://github.com/syfxlin"}},[t._v("Otstar Lin")]),t._v("和下列 "),n("a",{attrs:{href:"https://github.com/syfxlin/xkeditor/graphs/contributors"}},[t._v("贡献者")]),t._v("的帮助下撰写和维护。 ")]),n("blockquote",[t._v(" Otstar Lin - "),n("a",{attrs:{href:"https://ixk.me/"}},[t._v("Personal Website")]),t._v(" · "),n("a",{attrs:{href:"https://blog.ixk.me/"}},[t._v("Blog")]),t._v(" · "),n("a",{attrs:{href:"https://github.com/syfxlin"}},[t._v("Github")])]),n("p",{staticStyle:{"font-size":"0.8em"}},[t._v(" Copyright © 2019 Otstar Lin, 根据 Apache License 2.0 许可证开源。 ")])])}],En={name:"info-item"},Nn=En,Tn=Object(Gt["a"])(Nn,kn,An,!1,null,null,null),Mn=Tn.exports,Ln=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",[t._v("链接")]),n("div",{staticClass:"xk-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.href,expression:"data.href"}],attrs:{type:"url",placeholder:"请输入链接",autofocus:""},domProps:{value:t.data.href},on:{input:function(e){e.target.composing||t.$set(t.data,"href",e.target.value)}}})]),n("label",[t._v("标题")]),n("div",{staticClass:"xk-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.title,expression:"data.title"}],attrs:{type:"text",placeholder:"请输入标题"},domProps:{value:t.data.title},on:{input:function(e){e.target.composing||t.$set(t.data,"title",e.target.value)}}})])])},jn=[],On={name:"link-item",props:["data"]},Pn=On,Bn=Object(Gt["a"])(Pn,Ln,jn,!1,null,null,null),qn=Bn.exports,Fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",[t._v("保存的标记(Filename)")]),n("div",{staticClass:"xk-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.locationStorage,expression:"data.locationStorage"}],attrs:{type:"text",placeholder:"请输入保存的标记",autofocus:""},domProps:{value:t.data.locationStorage},on:{input:function(e){e.target.composing||t.$set(t.data,"locationStorage",e.target.value)}}})])])},Hn=[],Dn={name:"localstorage-item",props:["data"]},In=Dn,$n=Object(Gt["a"])(In,Fn,Hn,!1,null,null,null),Rn=$n.exports,Un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",[t._v("单元格数")]),n("div",{staticClass:"xk-row"},[n("div",{staticClass:"xk-input xk-col-12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.row,expression:"data.row"}],attrs:{type:"number",placeholder:"请输入行数",autofocus:""},domProps:{value:t.data.row},on:{input:function(e){e.target.composing||t.$set(t.data,"row",e.target.value)}}})]),n("div",{staticClass:"xk-input xk-col-12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.column,expression:"data.column"}],attrs:{type:"number",placeholder:"请输入列数"},domProps:{value:t.data.column},on:{input:function(e){e.target.composing||t.$set(t.data,"column",e.target.value)}}})])]),n("label",[t._v("对齐方式")]),n("div",[n("div",{staticClass:"xk-radio-group"},[n("div",{staticClass:"xk-radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.type,expression:"data.type"}],attrs:{type:"radio",value:"normal",id:"xk-type-normal"},domProps:{checked:t._q(t.data.type,"normal")},on:{change:function(e){return t.$set(t.data,"type","normal")}}}),n("label",{attrs:{for:"xk-type-normal"}},[n("div",{staticClass:"advice"}),n("fa-icon",{attrs:{icon:"align-justify"}})],1)]),n("div",{staticClass:"xk-radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.type,expression:"data.type"}],attrs:{type:"radio",value:"left",id:"xk-type-left"},domProps:{checked:t._q(t.data.type,"left")},on:{change:function(e){return t.$set(t.data,"type","left")}}}),n("label",{attrs:{for:"xk-type-left"}},[n("div",{staticClass:"advice"}),n("fa-icon",{attrs:{icon:"align-left"}})],1)]),n("div",{staticClass:"xk-radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.type,expression:"data.type"}],attrs:{type:"radio",value:"center",id:"xk-type-center"},domProps:{checked:t._q(t.data.type,"center")},on:{change:function(e){return t.$set(t.data,"type","center")}}}),n("label",{attrs:{for:"xk-type-center"}},[n("div",{staticClass:"advice"}),n("fa-icon",{attrs:{icon:"align-center"}})],1)]),n("div",{staticClass:"xk-radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.type,expression:"data.type"}],attrs:{type:"radio",value:"right",id:"xk-type-right"},domProps:{checked:t._q(t.data.type,"right")},on:{change:function(e){return t.$set(t.data,"type","right")}}}),n("label",{attrs:{for:"xk-type-right"}},[n("div",{staticClass:"advice"}),n("fa-icon",{attrs:{icon:"align-right"}})],1)])])])])},Kn=[];ce["c"].add(le["a"]);var zn={name:"table-item",components:{"fa-icon":se["a"]},props:["data"]},Xn=zn,Vn=Object(Gt["a"])(Xn,Un,Kn,!1,null,null,null),Wn=Vn.exports,Jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",[t._v("行号(1-"+t._s(t.data.allLine)+")")]),n("div",{staticClass:"xk-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.line,expression:"data.line"}],attrs:{type:"number",placeholder:"请输入行号",autofocus:""},domProps:{value:t.data.line},on:{input:function(e){e.target.composing||t.$set(t.data,"line",e.target.value)}}})])])},Gn=[],Qn={name:"toline-item",props:["data"]},Yn=Qn,Zn=Object(Gt["a"])(Yn,Jn,Gn,!1,null,null,null),ta=Zn.exports,ea=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",[t._v("视频链接")]),n("div",{staticClass:"xk-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.src,expression:"data.src"}],attrs:{type:"url",placeholder:"请输入视频链接",autofocus:""},domProps:{value:t.data.src},on:{input:function(e){e.target.composing||t.$set(t.data,"src",e.target.value)}}})]),n("div",{staticClass:"xk-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.data.alt,expression:"data.alt"}],attrs:{type:"text",placeholder:"请输入视频描述"},domProps:{value:t.data.alt},on:{input:function(e){e.target.composing||t.$set(t.data,"alt",e.target.value)}}})])])},na=[],aa={name:"video-item",props:["data"]},oa=aa,ia=Object(Gt["a"])(oa,ea,na,!1,null,null,null),ra=ia.exports;ce["c"].add(le["a"]);var ca={name:"toolbar-modal",components:{"help-item":yn,"image-item":Cn,"info-item":Mn,"link-item":qn,"localstorage-item":Rn,"table-item":Wn,"toline-item":ta,"video-item":ra,"fa-icon":se["a"]},computed:Object(s["a"])({},zt({modal:"toolbarModal"}))},la=ca,sa=Object(Gt["a"])(la,dn,mn,!1,null,null,null),ua=sa.exports;ce["c"].add(le["a"]);var da={components:{"fa-icon":se["a"],"graff-board":un,"toolbar-modal":ua},computed:Object(s["a"])({},zt(["editorMode","previewShow","showToc","toast","graffBoard"])),methods:Object(s["a"])({},Xt(["switchPreviewFull"]))},ma=da,pa=Object(Gt["a"])(ma,fe,he,!1,null,null,null),fa=pa.exports,ha=n("a7e4"),va=n.n(ha),ga=n("2217"),ya=n.n(ga),ba={name:"XK_Editor",components:{ace:Yt,tinymce:oe,toolbar:pe,tools:fa},props:{config:Object,value:String,data:Object},data:function(){return{delayToHtml:null}},computed:Object(s["a"])({},zt(["previewShow","editorMode","markdownContent","htmlContent","htmlViewContent","setting","graffBoard"]),{isAceMode:function(){return"ace"===this.editorMode||"tinymce"!==this.editorMode&&null}}),created:function(){this.markdownContent=this.value||"",this.setting=p(this.setting,this.config),this.htmlViewContent=z(this.markdownContent,!0),this.graffBoard.content=this.data.graff||{},this.loadCss(this.setting.xkSetting.previewCss)},mounted:function(){this.$nextTick((function(){this.initEditor()})),this.setInterface(),this.$emit("loaded",!0)},methods:Object(s["a"])({},Xt(["initGraff","setInterface","initScroll","initPaste","updateTocTree","initTocTree","initResizor","updateRunCode","setValue","initTinyMceEditor"]),{loadCss:function(t){var e=document.createElement("link");e.href=t,e.rel="stylesheet",e.type="text/css",document.head.appendChild(e)},initEditor:function(){this.initScroll(),this.initTocTree(),this.$nextTick((function(){this.initPaste(),this.initGraff(),this.initResizor()}))},renderNextTick:function(){this.$nextTick((function(){var t=B();document.getElementById("toc").innerHTML=t;for(var e=0;e<document.getElementsByClassName("toc").length;e++)document.getElementsByClassName("toc")[e].innerHTML=t;this.updateTocTree(),va()(document.getElementById("previewHtml"),{delimiters:[{left:"$$",right:"$$"},{left:"```math",right:"```"},{left:"```tex",right:"```"}],ignoredTags:["script","noscript","style","textarea","code"]});try{ya.a.init({noteMargin:10},".xkeditor-mermaid")}catch(n){console.log("May have errors")}Vt.actions.scrollBind&&Vt.actions.scrollBind(),this.updateRunCode()}))}}),watch:{value:function(t){t!==this.markdownContent&&(this.markdownContent=t,this.setValue(t))},config:{handler:function(t){this.setting=t,window.XKEditor&&(window.XKEditor.tinymce.remove(),this.initTinyMceEditor(),window.XKEditor.ace.setOptions(t.aceSetting))},deep:!0},markdownContent:function(t){var e=this;this.$emit("input",t);var n=this.setting.xkSetting.delayToHtml>=500?this.setting.xkSetting.delayToHtml:500;this.delayToHtml&&clearTimeout(this.delayToHtml),this.delayToHtml=setTimeout((function(){e.htmlViewContent=z(t,!0),e.renderNextTick()}),n)},htmlContent:function(t){this.$emit("input",X(t))},data:{handler:function(t){this.graffBoard.content=t.graff},deep:!0},"graffBoard.content":{handler:function(t){this.$emit("update:data.graff",t)},deep:!0}}},xa=ba,wa=(n("ca23"),Object(Gt["a"])(xa,c,l,!1,null,null,null)),_a=wa.exports,Sa=_a,Ca={name:"App",components:{"xk-editor":Sa},data:function(){return{config:{},content:"",data:{graff:{"6b3117":'8.399999618530273 9 423.9984436035156 154|<path d="M 290.4,100 L 293.4,104 L 304.4,112 L 326.4,123 L 345.4,131 L 360.4,136 L 378.4,140 L 395.4,145 L 405.4,148 L 415.4,152 L 420.4,152 L 421.4,153 L 422.4,153" fill="none" stroke="#6190e8" stroke-width="2"></path><rect x="18.4" y="19" fill="none" stroke="#6190e8" stroke-width="2" width="131" height="69" d="M 18.4 19 h 131 v 69 h -131 Z"></rect>'}}}},methods:{},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W.a.all([W.a.get("/static/setting.json"),W.a.get("/static/md_content.md")]).then(W.a.spread((function(e,n){t.config=e.data,t.content=n.data})));case 2:case"end":return e.stop()}}),e)})))()}},ka=Ca,Aa=(n("5c0b"),Object(Gt["a"])(ka,o,i,!1,null,null,null)),Ea=Aa.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(Ea)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),o=n.n(a);o.a},6708:function(t,e){t.exports=turndownPluginGfm},"6a7c":function(t,e,n){},"7adc":function(t,e){t.exports=TurndownService},"95aa":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return runJS}));var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a15b"),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b0c0"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_object_is__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("2b19"),core_js_modules_es_object_is__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_object_is__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("466d"),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_6__),consoleUtils={formatArray:function(t){for(var e="",n=0,a=t.length;n<a;n++)"string"===typeof t[n]?e+='"'+t[n]+'"':Array.isArray(t[n])?(e+="Array [",e+=consoleUtils.formatArray(t[n]),e+="]"):e+=consoleUtils.formatOutput(t[n]),n<t.length-1&&(e+=", ");return e},formatObject:function(t){var e=/^(ArrayBuffer|SharedArrayBuffer|DataView)$/,n=/^(Int8Array|Int16Array|Int32Array|Uint8Array|Uint16Array|Uint32Array|Uint8ClampedArray|Float32Array|Float64Array|BigInt64Array|BigUint64Array)$/,a=t.constructor.name;if("String"===a)return'String { "'.concat(t.valueOf(),'" }');if(t===JSON)return"JSON {}";if(a.match(e))return a+" {}";if(a.match(n)){var o=t.length;return o>0?a+" ["+consoleUtils.formatArray(t)+"]":a+" []"}if("Symbol"===a&&void 0!==t)return t.toString();if("Object"===a){var i="",r=!0;for(var c in t)r?r=!1:i+=", ",i=i+c+": "+consoleUtils.formatOutput(t[c]);return a+" { "+i+" }"}return t},formatOutput:function(t){return void 0===t||null===t||"boolean"===typeof t?String(t):"number"===typeof t?Object.is(t,-0)?"-0":String(t):"bigint"===typeof t?String(t)+"n":"string"===typeof t?'"'+t+'"':Array.isArray(t)?"Array ["+consoleUtils.formatArray(t)+"]":consoleUtils.formatObject(t)},writeOutput:function(t,e){var n=e.textContent,a="> "+t+"\n";e.textContent=n+a}};function runJS(code,outputEle){var console={error:function(t){consoleUtils.writeOutput(t),window.console.error.apply(console,arguments)},log:function(){for(var t=[],e=0,n=arguments.length;e<n;e++){var a=consoleUtils.formatOutput(arguments[e]);t.push(a)}var o=t.join(" ");consoleUtils.writeOutput(o,outputEle),window.console.log.apply(console,arguments)}};outputEle.textContent="",eval(code)}},"9c0c":function(t,e,n){},a7e4:function(t,e){t.exports=renderMathInElement},ca23:function(t,e,n){"use strict";var a=n("0072"),o=n.n(a);o.a},d7d7:function(t,e){t.exports=tinyMCE}});
//# sourceMappingURL=app.eafe2f27.js.map